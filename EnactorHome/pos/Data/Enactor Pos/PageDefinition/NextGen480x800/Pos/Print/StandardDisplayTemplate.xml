<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<core:documentTemplate xmlns:core="http://www.enactor.com/core" xmlns:retail="http://www.enactor.com/retail" xmlns:ns4="http://www.enactor.com/crm" xmlns:hta="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/api/200803" xmlns:ns6="http://www.apis-it.hr/fin/2012/types/f73" xmlns:ns7="http://www.w3.org/2000/09/xmldsig#" xmlns:ns8="http://www.enactor.com/retail/storedRetailTransaction/service" xmlns:ns9="http://www.fu.gov.si/" xmlns:ns10="http://www.enactor.com/addressLookup/service" xmlns:htd="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/200803" xmlns:htt="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/types/200803" xmlns:sref="http://docs.oasis-open.org/wsbpel/2.0/serviceref" xmlns:ns14="http://www.enactor.com/crm/customerLoyalty/service" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" paginated="false" messageBase="Pos/Print/ReceiptMessages" title="Standard Operator Display" url="NextGen480x800/Pos/Print/StandardDisplayTemplate">
    <core:elements>
        <core:tableTemplate list="#{basket.itemIterator}" id="ReceiptList">
            <core:formatElement applicableClassName="com.enactor.coreUI.views.ListHeader"/>
            <core:formatElement applicableClassName="com.enactor.coreUI.views.ListFooter"/>
            <core:formatElement applicableClassName="com.enactor.mfc.print.BasketHeaderItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.print.BasketFooterItem" formatId="basketFooterItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IMerchandiseItem" applicability="#{abs(item.quantity) == 1 &amp;&amp; (item.unitType == null || enumEquals(item.unitType, 'UNIT')) &amp;&amp; !item.voided}" formatId="merchandiseItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IMerchandiseItem" applicability="#{abs(item.quantity) == 1 &amp;&amp; (item.unitType == null || enumEquals(item.unitType, 'UNIT')) &amp;&amp; item.voided}" formatId="merchandiseItemVoided"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IMerchandiseItem" applicability="#{!item.voided}"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IFeeItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IProductWastageItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IGiftCardItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IProductRewardVoucherItem"/>
            <core:formatElement applicableEntityName="cardTenderItem" applicability="#{!item.voided}" formatId="cardTenderItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ICashTenderItem" applicability="#{item.issuedAsCashback &amp;&amp; !item.voided}" formatId="cashbackTenderItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ITenderItem" applicability="#{!item.isChange &amp;&amp; !item.voided}" formatId="tenderItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ITenderItem" applicability="#{item.isChange &amp;&amp; !item.voided &amp;&amp; !item.isRefund}" formatId="changeTenderItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ITenderItem" applicability="#{item.isChange &amp;&amp; !item.voided &amp;&amp; item.isRefund}" formatId="customerToPayTenderItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IVoucherRedemptionItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ITransactionVoidItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IVoidItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IStorageItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IAccountBalanceUpdateItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IServiceItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IRecallItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IMergeItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.INoSaleItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IDiscountItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IEmployeeSaleTransactionDiscountItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ITransactionDiscountItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IRecordRepairItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IRecordActualRepairCostItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IRecallRepairItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IPriceOverrideItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IHonourPromotionItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IIssueLoyaltyCardItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ILoyaltyOfferDeclinedItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ICollectDetailsItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IDispatchDetailsItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IOrderDetailsItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IBundleDetailsItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IDeliveryChargeItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IAdminChargeItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ISurchargeItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ICustomDeliveryPackageItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IDeliveryPackageItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IPostVoidItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ITaxSchemeOverrideItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IProductPreparationOptionItem"/>
            <core:formatElement applicableEntityName="quantityModifierItem"/>
            <core:formatElement applicableEntityName="dummyItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IAlterationServiceDetailItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IVoucherSaleItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.ILoyaltyPointsAdjustmentItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IPromotionControlItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IFlightDetailsItem"/>
            <core:formatElement applicableClassName="com.enactor.customerOrders.retail.basket.items.ICustomerOrderDepositBasketItem"/>
            <core:formatElement applicableClassName="com.enactor.customerOrders.retail.basket.items.ICustomerOrderCollectionBasketItem"/>
            <core:formatElement applicableClassName="com.enactor.customerOrders.retail.basket.items.ICustomerOrderCollectionHeaderBasketItem"/>
            <core:formatElement applicableClassName="com.enactor.customerOrders.retail.basket.items.ICustomerOrderReturnDetailsItem"/>
            <core:formatElement applicableClassName="com.enactor.customerOrders.retail.basket.items.ICustomerOrderPaymentBasketItem"/>
            <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IOrderDetailsItem"/>
            <core:formatElement applicability="#{!item.voided}" formatId="basketItem"/>
            <core:formatElement applicability="#{item.voided}" formatId="basketItemVoided"/>
        </core:tableTemplate>
    </core:elements>
    <core:columnDefs>
        <core:columnDef id="1" start="0" end="25" align="CENTRE"/>
        <core:columnDef id="2" start="25" end="77"/>
        <core:columnDef id="3" start="77" end="98" align="RIGHT"/>
        <core:columnDef id="4" start="0" end="100" align="CENTRE"/>
        <core:columnDef id="6" start="5" end="77"/>
        <core:columnDef id="InfoDesc" start="5" end="80" align="LEFT"/>
    </core:columnDefs>
    <core:formatEntry id="itemText">
        <core:elements>
            <core:column maxLines="0" wrap="true" align="LEFT" columnDefId="InfoDesc" visibility="#{notEmpty(item.text)}" id="InfoDesc">
                <core:elements>
                    <core:text>
                        <core:text>#{item.text}</core:text>
                    </core:text>
                </core:elements>
            </core:column>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="merchandiseItem">
        <core:elements>
            <core:formatElement formatId="separator"/>
            <core:row>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="1" id="1">
                            <core:elements>
<core:imageElement imageURL="#{nextGen:getProductThumbnailImageURL(item.productID,item.productImageURL)}" style="line-height: row">
    <core:flowConstraint width="110" height="110"/>
</core:imageElement>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="2" wrap="true" columnDefId="2" id="2">
                            <core:elements>
<core:text>
    <core:text>#{instanceOf(item, 'com.enactor.mfc.basket.items.IUnknownItem') ? (empty(item.MMGroupDescription) ? (empty(item.MMGroupId) ? concat((empty(item.productID) ? '' : concat(item.productID, ' ')), item.description) : item.MMGroupId) : item.MMGroupDescription) : item.description}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:formatElement formatId="itemValue" visibility="#{strings:compareObjects(item.value, item.effectiveNetValue)}"/>
<core:text visibility="#{!strings:compareObjects(item.value, item.effectiveNetValue)}" style="BOLD;STRIKEOUT">
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.value}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text messageBase="NextGen/PosMessages" messageId="PRODUCT_NO_LABEL"/>
<core:text>
    <core:text>#{item.productID}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:text visibility="#{!strings:compareObjects(item.value, item.effectiveNetValue)}" style="BOLD">
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.effectiveNetValue}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2">
                            <core:elements>
<core:text>
    <core:text> </core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text messageId="SCS_SIZE" visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.IStyleSizeItem')}"/>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.IStyleSizeItem')}">
    <core:text> #{empty(item.sizeDescription) ? (item.sizeKey != null ? item.sizeKey.sizeId : '') : item.sizeDescription}</core:text>
</core:text>
<core:text>
    <core:text> </core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{notEmpty(item.text)}">
                    <core:elements>
                        <core:formatElement formatId="itemText"/>
                    </core:elements>
                </core:rowLine>
            </core:row>
            <core:formatElement formatId="itemModifiers"/>
            <core:formatElement formatId="separator"/>
            <core:formatElement formatId="lineSeparator"/>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="merchandiseItemVoided">
        <core:elements>
            <core:formatElement formatId="separator"/>
            <core:row selectable="false">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="1" id="1">
                            <core:elements>
<core:imageElement imageURL="#{nextGen:getProductThumbnailImageURL(item.productID,item.productImageURL)}" style="line-height: row">
    <core:flowConstraint width="110" height="110"/>
</core:imageElement>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="2" wrap="true" columnDefId="2" id="2">
                            <core:elements>
<core:text>
    <core:text>#{instanceOf(item, 'com.enactor.mfc.basket.items.IUnknownItem') ? (empty(item.MMGroupDescription) ? (empty(item.MMGroupId) ? concat((empty(item.productID) ? '' : concat(item.productID, ' ')), item.description) : item.MMGroupId) : item.MMGroupDescription) : item.description}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:formatElement formatId="itemValue"/>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text messageBase="NextGen/PosMessages" messageId="PRODUCT_NO_LABEL"/>
<core:text>
    <core:text>#{item.productID}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2">
                            <core:elements>
<core:text>
    <core:text> </core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text messageId="SCS_SIZE" visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.IStyleSizeItem')}"/>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.IStyleSizeItem')}">
    <core:text> #{empty(item.sizeDescription) ? (item.sizeKey != null ? item.sizeKey.sizeId : '') : item.sizeDescription}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:overlay backgroundColour="#ce3232cc">
                    <core:elements>
                        <core:imageElement imageURL="Pos/ItemVoidedOverlay.png"/>
                    </core:elements>
                </core:overlay>
            </core:row>
            <core:formatElement formatId="separator"/>
            <core:formatElement formatId="lineSeparator"/>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="cardTenderItem">
        <core:elements>
            <core:formatElement formatId="separator"/>
            <core:row styleClass="tender" backgroundColour="#FFFFFF" style="SOLID_BACKGROUND">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="1" id="1">
                            <core:elements>
<core:imageElement originalFilename="VisaLogo.bmp" visibility="#{item.cardDetails.cardScheme == 'VISA' || item.cardDetails.cardScheme == 'VISA_DEBIT'}">
    <core:flowConstraint height="32"/>
</core:imageElement>
<core:imageElement originalFilename="MastercardLogo.bmp" visibility="#{item.cardDetails.cardScheme == 'MASTERCARD' || item.cardDetails.cardScheme == 'MASTERCARD_DEBIT'}">
    <core:flowConstraint height="49"/>
</core:imageElement>
<core:imageElement originalFilename="MaestroLogo.bmp" visibility="#{item.cardDetails.cardScheme == 'MAESTRO' || item.cardDetails.cardScheme == 'MAESTRO_UK'}">
    <core:flowConstraint height="49"/>
</core:imageElement>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text messageId="TENDER_REFUND" visibility="#{item.isRefund}"/>
<core:text visibility="#{item.isRefund}">
    <core:text> </core:text>
</core:text>
<core:text>
    <core:text>#{item.description}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" visibility="#{item.foreignAmount == 0}" id="3">
                            <core:elements>
<core:text>
    <core:text>#{format:formatCurrency(item.value)}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{item.foreignAmount != 0}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text>
    <core:text>    </core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:formatters>
        <core:formatCurrencyAmount currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.foreignAmount}</core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text> @ </core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:formatters>
        <core:formatExchangeRate currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.exchangeRate}</core:text>
</core:text>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text>#{item.foreignAmount}</core:text>
</core:text>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text> </core:text>
</core:text>
<core:text messageId="LOYALTY_POINTS" visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}"/>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:formatElement formatId="itemValue"/>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{item.overPaymentAmount != 0 &amp;&amp; item.foreignAmount == 0}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" id="6">
                            <core:elements>
<core:text messageId="OVERPAYMENT"/>
<core:text>
    <core:text> </core:text>
</core:text>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.overPaymentAmount}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{item.overPaymentAmount != 0 &amp;&amp; item.foreignAmount != 0}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" id="6">
                            <core:elements>
<core:text messageId="OVERPAYMENT"/>
<core:text>
    <core:text> </core:text>
</core:text>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.overPaymentForeignAmount}</core:text>
</core:text>
<core:text>
    <core:text> (</core:text>
</core:text>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.overPaymentAmount}</core:text>
</core:text>
<core:text>
    <core:text>)</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
            <core:formatElement formatId="separator"/>
            <core:formatElement formatId="lineSeparator"/>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="cashbackTenderItem">
        <core:elements>
            <core:formatElement formatId="separator"/>
            <core:row styleClass="" colour="#0d0f2e" style="#{item.voided ? 'STRIKEOUT' : ''};DOUBLE_HIGH;DOUBLE_WIDE">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text messageId="CASHBACK"/>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" visibility="#{item.foreignAmount == 0}" id="3">
                            <core:elements>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount absValue="true"/>
    </core:formatters>
    <core:text>#{item.value}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{item.foreignAmount != 0}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text>
    <core:text>    </core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:formatters>
        <core:formatCurrencyAmount absValue="true" currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.foreignAmount}</core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text> @ </core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:formatters>
        <core:formatExchangeRate currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.exchangeRate}</core:text>
</core:text>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text>#{item.foreignAmount}</core:text>
</core:text>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text> </core:text>
</core:text>
<core:text messageId="LOYALTY_POINTS" visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}"/>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount absValue="true"/>
    </core:formatters>
    <core:text>#{item.value}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
            <core:formatElement formatId="separator"/>
            <core:formatElement formatId="lineSeparator"/>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="tenderItem">
        <core:elements>
            <core:formatElement formatId="separator"/>
            <core:row styleClass="tender">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="1" id="1">
                            <core:elements>
<core:text messageId="TENDER_VOID_FLAG" visibility="#{item.voided}"/>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text messageId="TENDER_REFUND" visibility="#{item.isRefund}"/>
<core:text visibility="#{item.isRefund}">
    <core:text> </core:text>
</core:text>
<core:text visibility="#{item.entityQName.localPart != 'cardTenderItem'}">
    <core:text>#{item.description}</core:text>
</core:text>
<core:text visibility="#{item.entityQName.localPart == 'cardTenderItem'}">
    <core:text>#{item.cardDetails.cardDescription}</core:text>
</core:text>
<core:text visibility="#{abs(item.tenderAmount) != abs(item.value)}">
    <core:text> (</core:text>
</core:text>
<core:text visibility="#{abs(item.tenderAmount) != abs(item.value)}">
    <core:formatters>
        <core:formatCurrencyAmount currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.tenderAmount}</core:text>
</core:text>
<core:text visibility="#{abs(item.tenderAmount) != abs(item.value)}">
    <core:text>)</core:text>
</core:text>
<core:text visibility="#{item.voided}">
    <core:text> </core:text>
</core:text>
<core:text messageId="TENDER_VOID" visibility="#{item.voided}"/>
<core:text visibility="#{item.voided}">
    <core:text> </core:text>
</core:text>
<core:text visibility="#{item.voided}">
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.value}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" visibility="#{item.foreignAmount == 0 &amp;&amp; !item.voided}" id="3">
                            <core:elements>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.value}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{item.foreignAmount != 0}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text>
    <core:text>  </core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:formatters>
        <core:formatCurrencyAmount currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.foreignAmount}</core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text> @ </core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:formatters>
        <core:formatExchangeRate currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.exchangeRate}</core:text>
</core:text>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text>#{item.foreignAmount}</core:text>
</core:text>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text> </core:text>
</core:text>
<core:text messageId="LOYALTY_POINTS" visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}"/>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" visibility="#{!item.voided}" id="3">
                            <core:elements>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.value}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{!item.voided &amp;&amp; instanceOf(item, 'com.enactor.mfc.basket.items.IVoucherTenderItem') &amp;&amp; !empty(item.serialNumber)}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text messageId="SERIAL_NUMBER"/>
<core:text>
    <core:text>#{item.serialNumber}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{item.overPaymentAmount != 0 &amp;&amp; item.foreignAmount == 0}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" id="6">
                            <core:elements>
<core:text messageId="OVERPAYMENT"/>
<core:text>
    <core:text> </core:text>
</core:text>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.overPaymentAmount}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{item.overPaymentAmount != 0 &amp;&amp; item.foreignAmount != 0}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" id="6">
                            <core:elements>
<core:text messageId="OVERPAYMENT"/>
<core:text>
    <core:text> </core:text>
</core:text>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.overPaymentForeignAmount}</core:text>
</core:text>
<core:text>
    <core:text> (</core:text>
</core:text>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.overPaymentAmount}</core:text>
</core:text>
<core:text>
    <core:text>)</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.IChequeTenderItem') &amp;&amp; notEmpty(item.guaranteeCardDetails.mangledPAN)}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" id="6">
                            <core:elements>
<core:text>
    <core:text>#{item.guaranteeCardDetails.mangledPAN}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{ !item.voided &amp;&amp; instanceOf(item, 'com.enactor.mfc.basket.items.IPayPalTenderItem') &amp;&amp; notEmpty(item.authorisationCode)}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="InfoDesc">
                            <core:elements>
<core:text messageId="PAYPAL_AUTHORISATION_CODE"/>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{ !item.voided &amp;&amp; instanceOf(item, 'com.enactor.mfc.basket.items.IPayPalTenderItem') &amp;&amp; notEmpty(item.transactionId)}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="InfoDesc">
                            <core:elements>
<core:text messageId="PAYPAL_TRANSACTION_ID"/>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{ !item.voided &amp;&amp; instanceOf(item, 'com.enactor.mfc.basket.items.IPayPalTenderItem') &amp;&amp; notEmpty(item.originalTransactionId)}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="InfoDesc">
                            <core:elements>
<core:text messageId="PAYPAL_ORIGINAL_TRANSACTION_ID"/>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.IGiftCardTenderItem') &amp;&amp; notEmpty(item.giftCardDetails.accountId)}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" id="6">
                            <core:elements>
<core:text>
    <core:text>#{item.giftCardDetails.accountId}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{!item.voided &amp;&amp; !item.isRefund &amp;&amp; !item.isChange &amp;&amp; instanceOf(item, 'com.enactor.mfc.basket.items.IGiftCardTenderItem') &amp;&amp; notEmpty(item.giftCardDetails.accountId) &amp;&amp; item.giftCardDetails.authorisedOnline}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" id="6">
                            <core:elements>
<core:text messageId="GIFT_CARD_BALANCE_REMAINING"/>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{notEmpty(item.referenceNumber) &amp;&amp; item.printReferenceNumber}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" id="6">
                            <core:elements>
<core:text messageId="REFERENCE"/>
<core:text>
    <core:text>#{item.referenceNumber}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
            <core:formatElement applicability="#{instanceOf(item, 'com.enactor.mfc.basket.items.IPayPalTenderItem')}" formatId="payPalItemErrors" visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.IPayPalTenderItem')}"/>
            <core:formatElement formatId="separator"/>
            <core:formatElement formatId="lineSeparator"/>
        </core:elements>
        <core:entityReferences>
            <core:entityReference name="tender" keyValue="#{item.tenderKey}"/>
            <core:entityReference name="tenderChangeTender" keyValue="#{tender.changeTenderKey}"/>
        </core:entityReferences>
    </core:formatEntry>
    <core:formatEntry id="payPalItemErrors">
        <core:elements>
            <core:tableTemplate listVariableName="errorData" list="#{item.errors}" id="PayPalErrors">
                <core:formatElement formatId="payPalItemError"/>
            </core:tableTemplate>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="payPalItemError">
        <core:elements>
            <core:row>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="InfoDesc">
                            <core:elements>
<core:text messageId="PAYPAL_ERROR_DATA"/>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="changeTenderItem">
        <core:elements>
            <core:formatElement formatId="separator"/>
            <core:row styleClass="tender change" colour="#0d0f2e" style="#{item.voided ? 'STRIKEOUT' : ''};DOUBLE_HIGH;DOUBLE_WIDE">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text messageId="CHANGE"/>
<core:text>
    <core:text> (#{item.description})</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" visibility="#{item.foreignAmount == 0}" id="3">
                            <core:elements>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.value}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{item.foreignAmount != 0}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text>
    <core:text>    </core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:formatters>
        <core:formatCurrencyAmount currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.foreignAmount}</core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text> @ </core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:formatters>
        <core:formatExchangeRate currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.exchangeRate}</core:text>
</core:text>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text>#{item.foreignAmount}</core:text>
</core:text>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text> </core:text>
</core:text>
<core:text messageId="LOYALTY_POINTS" visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}"/>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.value}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
            <core:formatElement formatId="separator"/>
            <core:formatElement formatId="lineSeparator"/>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="customerToPayTenderItem">
        <core:elements>
            <core:formatElement formatId="separator"/>
            <core:row styleClass="tender change" colour="#0d0f2e" style="#{item.voided ? 'STRIKEOUT' : ''};DOUBLE_HIGH;DOUBLE_WIDE">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text messageId="CUSTOMER_TO_PAY"/>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" visibility="#{item.foreignAmount == 0}" id="3">
                            <core:elements>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount absValue="true"/>
    </core:formatters>
    <core:text>#{item.value}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine visibility="#{item.foreignAmount != 0}">
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text>
    <core:text>    </core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:formatters>
        <core:formatCurrencyAmount absValue="true" currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.foreignAmount}</core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text> @ </core:text>
</core:text>
<core:text visibility="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:formatters>
        <core:formatExchangeRate currencyId="#{item.currencyId}"/>
    </core:formatters>
    <core:text>#{item.exchangeRate}</core:text>
</core:text>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text>#{item.foreignAmount}</core:text>
</core:text>
<core:text visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}">
    <core:text> </core:text>
</core:text>
<core:text messageId="LOYALTY_POINTS" visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyAccountTenderItem')}"/>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount absValue="true"/>
    </core:formatters>
    <core:text>#{item.value}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
            <core:formatElement formatId="separator"/>
            <core:formatElement formatId="lineSeparator"/>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="basketItem">
        <core:elements>
            <core:formatElement formatId="separator"/>
            <core:row>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text>
    <core:text>#{item.description}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:formatElement formatId="itemValue"/>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
            <core:formatElement formatId="separator"/>
            <core:formatElement formatId="lineSeparator"/>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="basketItemVoided">
        <core:elements>
            <core:formatElement formatId="separator"/>
            <core:row selectable="false" styleClass="voided" backgroundColour="#{item.voided ? '#ce3232cc' : '#FFFFFF'}" style="STRIKEOUT;SOLID_BACKGROUND">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="2" id="2">
                            <core:elements>
<core:text>
    <core:text>#{item.description}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:formatElement formatId="itemValue"/>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
            <core:formatElement formatId="separator"/>
            <core:formatElement formatId="lineSeparator"/>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="basketFooterItem">
        <core:elements>
            <core:row selectable="false" backgroundColour="#EBEBEB" visibility="#{notEmpty(item.basket.promotionCalculation.totalSaving)}" style="SOLID_BACKGROUND">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="1">
                            <core:elements>
<core:imageElement>
    <core:flowConstraint height="12"/>
</core:imageElement>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" id="6">
                            <core:elements>
<core:text messageId="PROMOTION_SAVING_MESSAGE"/>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:text style="BOLD">
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{item.basket.promotionCalculation.totalSaving}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="1">
                            <core:elements>
<core:imageElement>
    <core:flowConstraint height="15"/>
</core:imageElement>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="itemModifiers">
        <core:elements>
            <core:tableTemplate listVariableName="modifier" list="#{item.modifiers}" id="Modifiers">
                <core:formatElement applicability="#{modifier.voided}"/>
                <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IEmployeeDiscountModifier" formatId="employeeDiscountModifier"/>
                <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IDiscountModifier" applicability="#{enumEquals(modifier.discountType, 'ITEM')}" formatId="discountModifier"/>
                <core:formatElement applicableClassName="com.enactor.mfc.promotion.calculation.DistributedPromotionSavingItem" formatId="DistributedPromotionSavingItem"/>
                <core:formatElement applicableClassName="com.enactor.mfc.basket.items.IPriceOverrideModifier" formatId="priceOverrideModifier"/>
                <core:formatElement/>
            </core:tableTemplate>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="employeeDiscountModifier">
        <core:elements>
            <core:row style="ITALIC;ITALIC">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" visibility="#{!empty modifier.modifierItem}" id="6">
                            <core:elements>
<core:text>
    <core:text>#{modifier.modifierItem.reasonDescription}</core:text>
</core:text>
<core:text>
    <core:text> (</core:text>
</core:text>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{modifier.originalItemValue}</core:text>
</core:text>
<core:text messageId="VALUE_AT_PERCENTAGE"/>
<core:text>
    <core:formatters>
        <core:formatPercentage/>
    </core:formatters>
    <core:text>#{modifier.displayPercentage}</core:text>
</core:text>
<core:text>
    <core:text>)</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount negate="true" absValue="true"/>
    </core:formatters>
    <core:text>#{modifier.value}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="discountModifier">
        <core:elements>
            <core:row style="ITALIC;ITALIC">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" visibility="#{!empty modifier.modifierItem}" id="6">
                            <core:elements>
<core:text>
    <core:text>#{empty(modifier.modifierItem.reasonDescription) ? modifier.modifierItem.description : modifier.modifierItem.reasonDescription}</core:text>
</core:text>
<core:text visibility="#{enumEquals(modifier.modifierItem.type, 'PERCENTAGE')}">
    <core:text> </core:text>
</core:text>
<core:text visibility="#{enumEquals(modifier.modifierItem.type, 'PERCENTAGE')}">
    <core:formatters>
        <core:formatPercentage/>
    </core:formatters>
    <core:text>#{modifier.modifierItem.percentage}</core:text>
</core:text>
<core:text>
    <core:text> (</core:text>
</core:text>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{modifier.modifierItem.value}</core:text>
</core:text>
<core:text>
    <core:text>)</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="priceOverrideModifier">
        <core:elements>
            <core:row style="ITALIC;ITALIC">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" visibility="#{!empty modifier.modifierItem}" id="6">
                            <core:elements>
<core:text>
    <core:text>#{empty(modifier.modifierItem.reasonDescription) ? modifier.modifierItem.description : modifier.modifierItem.reasonDescription}</core:text>
</core:text>
<core:text>
    <core:text> (</core:text>
</core:text>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{modifier.originalPrice}</core:text>
</core:text>
<core:text>
    <core:text> to </core:text>
</core:text>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{modifier.newPrice}</core:text>
</core:text>
<core:text>
    <core:text>)</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="DistributedPromotionSavingItem">
        <core:elements>
            <core:row>
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="6" id="6">
                            <core:elements>
<core:text>
    <core:text>#{modifier.promotionItem.promotionDescription}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                        <core:column maxLines="0" columnDefId="3" id="3">
                            <core:elements>
<core:text>
    <core:formatters>
        <core:formatCurrencyAmount/>
    </core:formatters>
    <core:text>#{-modifier.distributedSaving}</core:text>
</core:text>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="separator">
        <core:elements>
            <core:row selectable="false" backgroundColour="#{item.voided ? '#ce3232cc' : '#FFFFFF'}" style="SOLID_BACKGROUND">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="1">
                            <core:elements>
<core:imageElement>
    <core:flowConstraint height="10"/>
</core:imageElement>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="lineSeparator">
        <core:elements>
            <core:row selectable="false" backgroundColour="#EBEBEB" style="SOLID_BACKGROUND">
                <core:rowLine>
                    <core:elements>
                        <core:column maxLines="0" columnDefId="1">
                            <core:elements>
<core:imageElement>
    <core:flowConstraint height="3"/>
</core:imageElement>
                            </core:elements>
                        </core:column>
                    </core:elements>
                </core:rowLine>
            </core:row>
        </core:elements>
    </core:formatEntry>
    <core:formatEntry id="itemValue">
        <core:elements>
            <core:text style="BOLD">
                <core:formatters>
                    <core:formatCurrencyAmount/>
                </core:formatters>
                <core:text>#{item.value}</core:text>
            </core:text>
        </core:elements>
    </core:formatEntry>
</core:documentTemplate>
