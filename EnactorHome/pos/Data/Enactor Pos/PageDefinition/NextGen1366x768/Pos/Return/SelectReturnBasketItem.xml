<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<retail:posPromptPage xmlns:core="http://www.enactor.com/core" xmlns:retail="http://www.enactor.com/retail" xmlns:ns4="http://www.enactor.com/crm" xmlns:hta="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/api/200803" xmlns:ns6="http://www.apis-it.hr/fin/2012/types/f73" xmlns:ns7="http://www.w3.org/2000/09/xmldsig#" xmlns:ns8="http://www.enactor.com/retail/storedRetailTransaction/service" xmlns:ns9="http://www.fu.gov.si/" xmlns:ns10="http://www.enactor.com/addressLookup/service" xmlns:htd="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/200803" xmlns:htt="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/types/200803" xmlns:sref="http://docs.oasis-open.org/wsbpel/2.0/serviceref" xmlns:ns14="http://www.enactor.com/crm/customerLoyalty/service" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" allowResize="true" allowMove="true" hasBorders="FALSE" allowClose="true" windowtype="view-panel" height="768" width="1366" managementBeanClassname="com.enactor.posAdditionalThemes.nextGen.beans.ViewBasketBean" titleId="SUCCESS_TITLE" url="NextGen1366x768/Pos/Return/SelectReturnBasketItem">
    <core:elements>
        <core:text messageBase="NextGen/PosMessages" messageId="PLEASE_SELECT_RETURN_ITEM" id="Prompt"/>
        <core:button messageId="BUTTON_UP" styleClass="navigation-up" visibility="#{page['SelectionList'].visible &amp;&amp; page['SelectionList'].moveUp}" id="Button2">
            <core:updateTriggers>
                <core:element>SelectionList</core:element>
            </core:updateTriggers>
            <core:text>page.SelectionList.up</core:text>
        </core:button>
        <core:button messageId="BUTTON_DOWN" styleClass="navigation-down" visibility="#{page['SelectionList'].visible &amp;&amp; page['SelectionList'].moveDown}" id="Button6">
            <core:updateTriggers>
                <core:element>SelectionList</core:element>
            </core:updateTriggers>
            <core:text>page.SelectionList.down</core:text>
        </core:button>
        <core:button messageBase="Pos/Product/ReturnItemMessages" messageId="RETURN_HISTORY" visibility="#{displayReturnHistoryButton}" id="Button5">
            <core:text>ReturnHistory</core:text>
        </core:button>
        <core:button messageBase="Pos/Product/ReturnItemMessages" messageId="BUTTON_FINISH" id="Button8">
            <core:text>CancelPressed</core:text>
        </core:button>
        <core:button messageBase="Pos/Product/ReturnItemMessages" messageId="RETURN_COMPLETE_RECEIPT" visibility="#{isEmpty(hideCompleteReceipt) || !hideCompleteReceipt}" id="Button4">
            <core:text>ReturnCompleteReceipt</core:text>
        </core:button>
        <core:panel id="SidePanel">
            <core:elements>
                <core:hidden id="TotalButton"/>
            </core:elements>
        </core:panel>
        <core:hidden id="Receipt"/>
        <core:panel fontSize="15" verticalScrollBars="None" borderSize="2" borderStyle="None" transparentBackground="true" visible="true" id="ReturnReceipt">
            <core:boundsConstraint height="554" width="1085" y="101" x="10"/>
            <core:templateConstraints renderMode="AtInitialisation" allowRemoval="true"/>
            <core:updateTriggers>
                <core:element>ReceiptDataTable</core:element>
            </core:updateTriggers>
            <core:elements>
                <core:pageElementRef pageDefinitionURL="NextGen1366x768/Pos/BasketHeaders" elementIdRef="BasketHeaderPanel" id="BASKET_HEADERS_PAGE_ELEMENT_REFERENCE">
                    <core:flowConstraint width="1078"/>
                    <core:elements/>
                </core:pageElementRef>
                <core:panel transparentBackground="true" id="SpacerPanel2">
                    <core:flowConstraint width="1085" height="10"/>
                    <core:elements/>
                </core:panel>
                <core:panel transparentBackground="true" id="TitlePanel">
                    <core:flowConstraint width="1085" height="30"/>
                    <core:elements>
                        <core:label messageBase="NextGen/PosMessages" messageId="LABEL_YOUR_BAG" colour="#2f2f2f" id="BasketTitle">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:panel>
                <core:tableElement fontSize="12" transparentBackground="true" colour="#2f2f2f" id="ReceiptDataTableHeaders">
                    <core:flowConstraint width="1078" height="20"/>
                    <core:row id="ReceiptDataTableHeaders">
                        <core:flowConstraint/>
                        <core:cell id="ItemDescriptionHeaderCell">
                            <core:flowConstraint width="535"/>
                            <core:elements>
<core:label messageBase="NextGen/PosMessages" messageId="LABEL_ITEM" id="ItemDescriptionTitle">
    <core:flowConstraint/>
    <core:alignment>CENTRE</core:alignment>
</core:label>
                            </core:elements>
                        </core:cell>
                        <core:cell hAlign="CENTRE" id="ItemSizeWeightHeaderCell">
                            <core:flowConstraint width="100"/>
                            <core:elements>
<core:label allowWrap="true" messageBase="NextGen/PosMessages" messageId="LABEL_SIZE_WEIGHT" id="ItemSizeWeightTile">
    <core:flowConstraint width="50"/>
    <core:alignment>CENTRE</core:alignment>
</core:label>
                            </core:elements>
                        </core:cell>
                        <core:cell hAlign="CENTRE" id="ItemQuantityCell">
                            <core:flowConstraint width="140"/>
                            <core:elements>
<core:label messageBase="NextGen/PosMessages" messageId="LABEL_QUANTITY" id="ItemQuantityTitle">
    <core:flowConstraint/>
    <core:alignment>CENTRE</core:alignment>
</core:label>
                            </core:elements>
                        </core:cell>
                        <core:cell hAlign="CENTRE" id="ItemEffectiveNetValueHeaderCell">
                            <core:flowConstraint width="150"/>
                            <core:elements>
<core:label allowWrap="true" messageBase="NextGen/PosMessages" messageId="LABEL_PRICE" id="ItemEffectiveNetValueTitle">
    <core:flowConstraint/>
    <core:alignment>CENTRE</core:alignment>
</core:label>
                            </core:elements>
                        </core:cell>
                        <core:cell id="OptionsHeaderCell">
                            <core:flowConstraint/>
                            <core:elements>
<core:text id="OptionTitle">
    <core:flowConstraint/>
</core:text>
                            </core:elements>
                        </core:cell>
                    </core:row>
                </core:tableElement>
                <core:panel transparentBackground="true" backgroundColour="#c5c3c6" id="SeperatorPanel">
                    <core:flowConstraint width="1078" height="1"/>
                    <core:elements/>
                </core:panel>
                <core:panel autoScroll="EndOfPage" verticalScrollBars="WhenNeeded" transparentBackground="true" id="ReceiptDataPanel">
                    <core:flowConstraint width="1085" height="420"/>
                    <core:elements>
                        <core:dataTable rowIndexVar="rowItemIndex" selectedForegroundColour="BLACK" selectedBackgroundColour="#eeeeee" rowSelection="false" selectedRow="#{selectedItem}" var="item" data="#{viewBasket:filterBasketItems(list)}" fontSize="13" verticalScrollBars="None" borderSize="0" borderStyle="None" transparentBackground="true" colour="#2f2f2f" id="ReceiptDataTable">
                            <core:flowConstraint width="1078"/>
                            <core:templateConstraints renderMode="AtInitialisation" allowEdit="true"/>
                            <core:listTemplateConstraints/>
                            <core:cell borderSize="0" visibility="#{!instanceOf(rowItem, 'com.enactor.mfc.basket.items.TransactionVoidItem') &amp;&amp; !instanceOf(rowItem, 'com.enactor.mfc.basket.items.VoidItem')}" id="RowItemCell">
<core:flowConstraint/>
<core:elements>
    <core:panel renderedExpression="#{!instanceOf(item, 'com.enactor.mfc.basket.items.ITenderItem')}" transparentBackground="true" id="ItemsPanel">
        <core:flowConstraint width="1078"/>
        <core:elements>
            <core:panel transparentBackground="true" id="ItemAndControlsPanel">
                <core:flowConstraint width="1078"/>
                <core:elements>
                    <core:panel transparentBackground="true" id="ItemDetailsPanel">
                        <core:flowConstraint width="898"/>
                        <core:elements>
                            <core:panel vAlign="TOP" borderStyle="None" renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IMerchandiseItem') || instanceOf(item, 'com.enactor.mfc.basket.items.INonMerchandiseItem')}" transparentBackground="true" id="MerchandiseItemPanel">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:eventPanel value="#{instanceOf(item, 'com.enactor.mfc.basket.items.IUnknownItem') ? '' : 'DisplayRichProductDetails'}" transparentBackground="true" enable="#{notEmpty(view.enableReceiptControls) &amp;&amp; view.enableReceiptControls}" id="ImageDescriptionPanel">
        <core:flowConstraint width="47%"/>
        <core:elements>
            <core:panel transparentBackground="true" visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ISalesItem') &amp;&amp; notEmpty(viewBasket:resolveURL(item.productImageURL))}" id="ItemImageAndDescriptionPanel">
                <core:flowConstraint width="100%" height="90"/>
                <core:elements>
                    <core:panel id="IMAGEPANEL">
                        <core:flowConstraint width="35%"/>
                        <core:elements>
                            <core:panel borderStyle="None" transparentBackground="true" backgroundImageURL="#{instanceOf(item, 'com.enactor.mfc.basket.items.ISalesItem') ? viewBasket:resolveURL(item.productImageURL) : getConfigValue('Product.NoImageURL', 'noimage.jpg')}" enable="#{!item.voided}" style="ImageStyle=ScaledMaintainAspect" id="ItemImagePanel">
<core:flowConstraint width="90" height="90"/>
<core:elements/>
                            </core:panel>
                        </core:elements>
                    </core:panel>
                </core:elements>
            </core:panel>
            <core:panel transparentBackground="true" visibility="#{instanceOf(item, 'com.enactor.mfc.basket.items.ISalesItem')}" id="ItemDescriptionPanel">
                <core:flowConstraint width="100%"/>
                <core:elements>
                    <core:label allowWrap="true" borderStyle="None" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="ItemDescription">
                        <core:flowConstraint width="100%"/>
                        <core:text>#{instanceOf(item, 'com.enactor.mfc.basket.items.IUnknownItem') ? (isEmpty(item.MMGroupDescription) ? (isEmpty(item.MMGroupId) ? concat((isEmpty(item.productID) ? '' : concat(item.productID, ' ')), item.description) : item.MMGroupId) : item.MMGroupDescription) : item.description}</core:text>
                    </core:label>
                </core:elements>
            </core:panel>
            <core:panel borderStyle="None" renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IStyleColourSizeItem')}" transparentBackground="true" id="ColourPanel">
                <core:flowConstraint width="100%"/>
                <core:elements>
                    <core:label borderStyle="None" messageBase="Pos/Print/ReceiptMessages" messageId="SCS_COLOUR" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="SCSColourText">
                        <core:flowConstraint width="50"/>
                    </core:label>
                    <core:panel transparentBackground="true" id="PANEL_13">
                        <core:flowConstraint width="5"/>
                        <core:elements/>
                    </core:panel>
                    <core:label allowWrap="true" borderStyle="None" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="Colour">
                        <core:flowConstraint/>
                        <core:text>#{isEmpty(item.colourDescription) ? (item.colourKey != null ? item.colourKey.colourId : '') : item.colourDescription}</core:text>
                    </core:label>
                </core:elements>
            </core:panel>
            <core:panel borderStyle="None" renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IStyleSizeItem')}" transparentBackground="true" id="StylePanel">
                <core:flowConstraint width="100%"/>
                <core:elements>
                    <core:label messageBase="Pos/Print/ReceiptMessages" messageId="SCS_STYLE" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="SCSStyleText">
                        <core:flowConstraint width="50"/>
                    </core:label>
                    <core:panel transparentBackground="true" id="PANEL_13">
                        <core:flowConstraint width="5"/>
                        <core:elements/>
                    </core:panel>
                    <core:label allowWrap="true" borderStyle="None" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="Style">
                        <core:flowConstraint/>
                        <core:text>#{item.styleId}</core:text>
                    </core:label>
                </core:elements>
            </core:panel>
        </core:elements>
        <core:data>
            <core:expression value="#{instanceOf(item, 'com.enactor.mfc.basket.items.ISalesItem') ? item.productID : ''}" javaInterfaceName="java.lang.String" name="enactor.mfc.ProductCode"/>
        </core:data>
    </core:eventPanel>
    <core:panel borderStyle="None" transparentBackground="true" id="ItemSizePanel">
        <core:flowConstraint width="9%" height="40"/>
        <core:elements>
            <core:panel hAlign="CENTRE" borderStyle="None" renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IStyleColourSizeItem')}" transparentBackground="true" id="ItemSizeSubPanel">
                <core:flowConstraint width="40" height="40"/>
                <core:elements>
                    <core:label allowWrap="true" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="ItemSize">
                        <core:flowConstraint width="40"/>
                        <core:alignment>CENTRE</core:alignment>
                        <core:text>#{isEmpty(item.sizeDescription) ? (item.sizeKey != null ? item.sizeKey.sizeId : '-') : item.sizeDescription}</core:text>
                    </core:label>
                </core:elements>
            </core:panel>
        </core:elements>
    </core:panel>
    <core:panel vAlign="TOP" hAlign="CENTRE" borderStyle="None" transparentBackground="true" id="QuantityPanel">
        <core:flowConstraint width="26%" height="42"/>
        <core:elements>
            <core:panel borderStyle="None" transparentBackground="true" id="DecreseQuantityPanel">
                <core:flowConstraint width="41" height="41"/>
                <core:elements>
                    <core:button adjustImagesToSize="false" imageUrl="NextGen1024x768/Pos/QuantityDownButton.png" borderStyle="None" transparentBackground="true" visibility="#{priv:checkPrivilege('enactor.pos.ModifyQuantityAllowed') &amp;&amp; viewBasket:basketItemTests(item, false, true, true) &amp;&amp; !item.voided  &amp;&amp; notEmpty(view.enableReceiptControls) &amp;&amp; view.enableReceiptControls &amp;&amp; (abs(item.quantity) &gt; 1.0) &amp;&amp; (!instanceOf(item, 'com.enactor.mfc.basket.items.IUnknownItem') || priv:checkPrivilege('enactor.pos.UnknowProductQuantiyAllowed'))}" id="DecreseQuantity">
                        <core:flowConstraint width="39" height="39"/>
                        <core:text>SelectedItemDecreaseQuantity</core:text>
                        <core:data>
                            <core:expression value="#{item}" javaInterfaceName="java.lang.Object" name="enactor.coreUI.SelectedItem"/>
                        </core:data>
                    </core:button>
                </core:elements>
            </core:panel>
            <core:eventPanel value="ModifyQuantity" vAlign="TOP" hAlign="CENTRE" transparentBackground="true" enable="#{priv:checkPrivilege('enactor.pos.ModifyQuantityAllowed') &amp;&amp; viewBasket:basketItemTests(item, false, true, true) &amp;&amp; !item.voided  &amp;&amp; notEmpty(view.enableReceiptControls) &amp;&amp; view.enableReceiptControls &amp;&amp; (!instanceOf(item, 'com.enactor.mfc.basket.items.IUnknownItem') || priv:checkPrivilege('enactor.pos.UnknowProductQuantiyAllowed'))}" id="QuantityValueWithEventPanel">
                <core:flowConstraint width="55" height="40"/>
                <core:elements>
                    <core:label colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="QuantityLable">
                        <core:flowConstraint width="50" height="30"/>
                        <core:alignment>CENTRE</core:alignment>
                        <core:verticalAlignment>TOP</core:verticalAlignment>
                        <core:text>#{instanceOf(item, 'com.enactor.mfc.basket.items.ISalesItem') &amp;&amp; notEmpty(item.quantity) ? abs(convert:toInt(item.quantity)) : '-'}</core:text>
                    </core:label>
                </core:elements>
                <core:data>
                    <core:expression value="#{item}" javaInterfaceName="java.lang.Object" name="enactor.coreUI.SelectedItem"/>
                </core:data>
            </core:eventPanel>
            <core:panel borderStyle="None" transparentBackground="true" id="IncreseQuantityPanel">
                <core:flowConstraint width="41" height="41"/>
                <core:elements>
                    <core:button adjustImagesToSize="false" imageUrl="NextGen1024x768/Pos/QuantityUpButton.png" borderStyle="None" transparentBackground="true" visibility="#{priv:checkPrivilege('enactor.pos.ModifyQuantityAllowed') &amp;&amp; viewBasket:basketItemTests(item, false, true, true) &amp;&amp; !item.voided  &amp;&amp; notEmpty(view.enableReceiptControls) &amp;&amp; view.enableReceiptControls &amp;&amp; (abs(item.quantity) &lt; 9999) &amp;&amp; (priv:checkPrivilege('enactor.pos.AllowedQuantitySaleGreaterThan99') || (abs(item.quantity) &lt; 99)) &amp;&amp; (!instanceOf(item, 'com.enactor.mfc.basket.items.IUnknownItem') || priv:checkPrivilege('enactor.pos.UnknowProductQuantiyAllowed'))}" id="IncreseQuantity">
                        <core:flowConstraint width="39" height="39"/>
                        <core:text>SelectedItemIncreaseQuantity</core:text>
                        <core:data>
                            <core:expression value="#{item}" javaInterfaceName="java.lang.Object" name="enactor.coreUI.SelectedItem"/>
                        </core:data>
                    </core:button>
                </core:elements>
            </core:panel>
        </core:elements>
    </core:panel>
    <core:panel vAlign="TOP" hAlign="RIGHT" borderStyle="None" transparentBackground="true" id="EffectiveNetValuePanel">
        <core:flowConstraint width="15%" height="40"/>
        <core:elements>
            <core:label allowWrap="false" borderStyle="None" styleClass="headerPricePanel" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="ItemEffectiveNetValue">
                <core:flowConstraint width="90"/>
                <core:alignment>RIGHT</core:alignment>
                <core:verticalAlignment>TOP</core:verticalAlignment>
                <core:text>#{notEmpty(item.value) ? format:formatCurrency(item.value) : notEmpty(item.effectiveNetValue) ? format:formatCurrency(item.effectiveNetValue) : '' }</core:text>
            </core:label>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IAccountMovementItem')}" transparentBackground="true" id="AccountMovementItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:panel transparentBackground="true" id="DetailsPanel">
        <core:flowConstraint width="79%" height="100%"/>
        <core:elements>
            <core:label allowWrap="true" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="AccountMovementItemDescription">
                <core:flowConstraint/>
                <core:text>#{item.description}</core:text>
            </core:label>
        </core:elements>
    </core:panel>
    <core:panel hAlign="CENTRE" transparentBackground="true" id="AccountMovementItemValuePanel">
        <core:flowConstraint width="21%" height="100%"/>
        <core:elements>
            <core:label colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="AccountMovementItemValue">
                <core:flowConstraint/>
                <core:text>#{format:formatCurrency(item.value)}</core:text>
            </core:label>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IFeeItem')}" transparentBackground="true" id="FeePanel">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:panel transparentBackground="true" id="FeeDescriptionPanel">
        <core:flowConstraint width="79%" height="100%"/>
        <core:elements>
            <core:label messageBase="Pos/Print/ReceiptMessages" messageId="FEE_ITEM_DESCRIPTION" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="FEE_ITEM_DESCRIPTION">
                <core:flowConstraint/>
            </core:label>
        </core:elements>
    </core:panel>
    <core:panel hAlign="CENTRE" transparentBackground="true" id="FeeRatePanel">
        <core:flowConstraint width="21%" height="100%"/>
        <core:elements>
            <core:label messageBase="Pos/Print/ReceiptMessages" messageId="FEE_ITEM_AMOUNT_AND_RATE" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="FEE_ITEM_AMOUNT_AND_RATE">
                <core:flowConstraint/>
                <core:text>#{item.feeRate != 0 &amp;&amp; item.feeAmount != 0}</core:text>
            </core:label>
            <core:label messageBase="Pos/Print/ReceiptMessages" messageId="FEE_ITEM_RATE" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="FEE_ITEM_RATE">
                <core:flowConstraint/>
                <core:text>#{item.feeRate != 0}</core:text>
            </core:label>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IProductWastageItem')}" transparentBackground="true" id="ProductWastageItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:label messageBase="Pos/Wastage/WastageMessages" messageId="PRODUCT_WASTAGE_TITLE" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="PRODUCT_WASTAGE_TITLE">
        <core:flowConstraint/>
    </core:label>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.ITransactionDiscountItem')}" transparentBackground="true" id="TransactionDiscountItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:panel transparentBackground="true" id="DetailsPanel">
        <core:flowConstraint width="79%" height="100%"/>
        <core:elements>
            <core:label allowWrap="true" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="TransactionDiscountItemDescription">
                <core:flowConstraint/>
                <core:alignment>CENTRE</core:alignment>
                <core:text>#{item.description}</core:text>
            </core:label>
            <core:panel transparentBackground="true" id="Spacer2">
                <core:flowConstraint width="10"/>
                <core:elements/>
            </core:panel>
            <core:label messageBase="" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="TransactionDiscountDescription2">
                <core:flowConstraint/>
                <core:alignment>LEFT</core:alignment>
                <core:text>#{notEmpty(item.reasonDescription) ? concatenate('(', item.reasonDescription, ')') : ''}</core:text>
            </core:label>
        </core:elements>
    </core:panel>
    <core:panel hAlign="CENTRE" transparentBackground="true" id="TransactionDiscountValuePanel">
        <core:flowConstraint width="21%" height="100%"/>
        <core:elements>
            <core:label styleClass="headerPricePanel" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="DiscountValue">
                <core:flowConstraint width="90"/>
                <core:alignment>RIGHT</core:alignment>
                <core:text>#{format:formatCurrency(item.value)}</core:text>
            </core:label>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.ILoyaltyPointsAdjustmentItem') &amp;&amp; !item.voided}" transparentBackground="true" id="LoyaltyPointsAdjustmentItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:panel transparentBackground="true" id="DetailsPanel">
        <core:flowConstraint width="100%" height="100%"/>
        <core:elements>
            <core:label allowWrap="true" messageBase="Pos/Print/ReceiptMessages" messageId="#{item.points &gt;= 0 ? 'LOYALTY_POINTS_INCREASE' : 'LOYALTY_POINTS_DECREASE'}" id="Points">
                <core:flowConstraint/>
                <core:text></core:text>
            </core:label>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IIssueLoyaltyCardItem') &amp;&amp; !item.voided}" transparentBackground="true" id="IssueLoyaltyCardItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:panel transparentBackground="true" id="DetailsPanel">
        <core:flowConstraint width="100%" height="100%"/>
        <core:elements>
            <core:label messageBase="Pos/Print/ReceiptMessages" messageId="ISSUED_LOYALTY_CARD" id="ISSUED_LOYALTY_CARD_LABEL">
                <core:flowConstraint/>
            </core:label>
            <core:panel transparentBackground="true" id="Spacer">
                <core:flowConstraint width="10"/>
                <core:elements/>
            </core:panel>
            <core:label id="LoyaltyCardNumberLabel">
                <core:flowConstraint/>
                <core:text>#{item.loyaltyCardNumber}</core:text>
            </core:label>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IRecordRepairItem')}" transparentBackground="true" id="RecordRepairItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:label messageBase="Pos/Print/ReceiptMessages" messageId="RECORD_REPAIR" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="LABEL_RECORD_REPAIR">
        <core:flowConstraint/>
    </core:label>
    <core:panel transparentBackground="true" id="Spacer">
        <core:flowConstraint width="10"/>
        <core:elements/>
    </core:panel>
    <core:label colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="RepairNumberLabel">
        <core:flowConstraint/>
        <core:text>#{item.repairNumber}</core:text>
    </core:label>
    <core:panel transparentBackground="true" id="Copy Of Spacer">
        <core:flowConstraint width="10"/>
        <core:elements/>
    </core:panel>
    <core:label messageId="REQUIRES_QUOTE" visibility="#{isEmpty(item.estimatedCost)}" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="LABEL_3">
        <core:flowConstraint/>
    </core:label>
    <core:panel transparentBackground="true" id="Copy 1 Of Spacer">
        <core:flowConstraint width="10"/>
        <core:elements/>
    </core:panel>
    <core:label messageId="ESTIMATED_COST" visibility="#{notEmpty(item.estimatedCost)}" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="LABEL_4">
        <core:flowConstraint/>
    </core:label>
    <core:panel transparentBackground="true" visibility="#{notEmpty(item.estimatedCost)}" id="Copy Of Copy 1 Of Spacer">
        <core:flowConstraint width="10"/>
        <core:elements/>
    </core:panel>
    <core:label visibility="#{notEmpty(item.estimatedCost)}" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="LABEL_5">
        <core:flowConstraint/>
        <core:text>#{item.estimatedCost}</core:text>
    </core:label>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IOrderDetailsItem')}" transparentBackground="true" id="OrderDetailsItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:label allowWrap="true" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="OrderDetailsItemDescription">
        <core:flowConstraint/>
        <core:text>#{item.description}</core:text>
    </core:label>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.customerOrders.retail.basket.items.ICustomerOrderDepositBasketItem')}" transparentBackground="true" id="CustomerOrderDepositBasketItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:label allowWrap="true" messageBase="Pos/Print/ReceiptMessages" messageId="DEPOSIT_ITEM" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="CustomerOrderDepositBasketItemDescription">
        <core:flowConstraint/>
    </core:label>
    <core:panel transparentBackground="true" id="Spacer">
        <core:flowConstraint width="10"/>
        <core:elements/>
    </core:panel>
    <core:label allowWrap="true" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="CustomerOrderDepositBasketItemValue">
        <core:flowConstraint/>
        <core:text>#{format:formatCurrency(item.effectiveNetValue)}</core:text>
    </core:label>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.customerOrders.retail.basket.items.ICustomerOrderCollectionHeaderBasketItem')}" transparentBackground="true" id="CustomerOrderCollectionHeaderBasketItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:label allowWrap="true" messageBase="Pos/Print/ReceiptMessages" messageId="ORDER_COLLECTION_ORDER_ID" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="CollectionOrderHeaderDescription">
        <core:flowConstraint/>
    </core:label>
    <core:panel transparentBackground="true" id="Spacer">
        <core:flowConstraint width="10"/>
        <core:elements/>
    </core:panel>
    <core:label allowWrap="true" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="CollectionOrderHeaderId">
        <core:flowConstraint/>
        <core:text>#{notEmpty(item.customerOrderHeaderKey) ? item.customerOrderHeaderKey.customerOrderId : ''}</core:text>
    </core:label>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.customerOrders.retail.basket.items.ICustomerOrderCollectionBasketItem')}" transparentBackground="true" id="CustomerOrderCollectionBasketItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:panel transparentBackground="true" id="CollectionOrderItemPanel">
        <core:flowConstraint width="100%"/>
        <core:elements>
            <core:label allowWrap="true" messageBase="Pos/Print/ReceiptMessages" messageId="#{item.collectionQuantity &gt; 0 ? 'ORDER_COLLECTION_ITEM' : 'ORDER_COLLECTION_ITEM_NOT_COLLECT'}" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="CollectionOrderItemDescription">
                <core:flowConstraint/>
            </core:label>
            <core:panel renderedExpression="#{notEmpty(item.collectionProductId)}" transparentBackground="true" id="SpacerProductId">
                <core:flowConstraint width="10"/>
                <core:elements/>
            </core:panel>
            <core:label allowWrap="true" renderedExpression="#{notEmpty(item.collectionProductId)}" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="CollectionOrderItemProductId">
                <core:flowConstraint/>
                <core:text>#{item.collectionProductId}</core:text>
            </core:label>
            <core:panel transparentBackground="true" id="SpacerDescription">
                <core:flowConstraint width="10"/>
                <core:elements/>
            </core:panel>
            <core:label allowWrap="true" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="CollectionOrderItemProductDescription">
                <core:flowConstraint/>
                <core:text>#{item.description}</core:text>
            </core:label>
        </core:elements>
    </core:panel>
    <core:panel renderedExpression="#{notEmpty(item.orderNotes)}" transparentBackground="true" id="CollectionOrderItemOrderNotes">
        <core:flowConstraint width="100%"/>
        <core:elements>
            <core:label allowWrap="true" messageBase="Pos/Print/ReceiptMessages" messageId="COLLECTION_INSTRUCTIONS" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="OrderNotesDescription">
                <core:flowConstraint/>
            </core:label>
            <core:panel transparentBackground="true" id="SpacerOrderNotes">
                <core:flowConstraint width="10"/>
                <core:elements/>
            </core:panel>
            <core:label allowWrap="true" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="OrderNotes">
                <core:flowConstraint/>
                <core:text>#{item.orderNotes}</core:text>
            </core:label>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.customerOrders.retail.basket.items.ICustomerOrderPaymentBasketItem')}" transparentBackground="true" id="CustomerOrderPaymentBasketItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:panel transparentBackground="true" id="CustomerOrderPaymentDescription">
        <core:flowConstraint width="79%" height="100%"/>
        <core:elements>
            <core:label allowWrap="true" messageBase="Pos/Print/ReceiptMessages" messageId="#{item.forCollection ? 'ORDER_COLLECTION_PAYMENT' : 'ORDER_PAYMENT_ITEM'}" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="CollectionOrderItemDescription">
                <core:flowConstraint/>
            </core:label>
            <core:panel renderedExpression="#{notEmpty(item.customerOrderHeaderKey) &amp;&amp; notEmpty(item.customerOrderHeaderKey.customerOrderId)}" transparentBackground="true" id="SpacerOrderId">
                <core:flowConstraint width="10"/>
                <core:elements/>
            </core:panel>
            <core:label allowWrap="true" renderedExpression="#{notEmpty(item.customerOrderHeaderKey) &amp;&amp; notEmpty(item.customerOrderHeaderKey.customerOrderId)}" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="CollectionOrderPaymentOrderId">
                <core:flowConstraint/>
                <core:text>#{item.customerOrderHeaderKey.customerOrderId}</core:text>
            </core:label>
        </core:elements>
    </core:panel>
    <core:panel hAlign="CENTRE" transparentBackground="true" id="CustomerOrderPaymentNetValue">
        <core:flowConstraint width="21%" height="100%"/>
        <core:elements>
            <core:label allowWrap="true" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="PaymentNetValue">
                <core:flowConstraint/>
                <core:text>#{format:formatCurrency(item.netValue)}</core:text>
            </core:label>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:panel>
                            <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IChargeItem')}" transparentBackground="true" id="ChargeItem">
<core:flowConstraint width="100%"/>
<core:elements>
    <core:panel transparentBackground="true" id="ChargeItemDescription">
        <core:flowConstraint width="79%"/>
        <core:elements>
            <core:label allowWrap="true" messageBase="Pos/Print/ReceiptMessages" messageId="#{instanceOf(item, 'com.enactor.mfc.basket.items.IDeliveryChargeItem') ? 'DELIVERY_CHARGE_ITEM' : (instanceOf(item, 'com.enactor.mfc.basket.items.IAdminChargeItem') ? 'ADMIN_CHARGE_ITEM' : (instanceOf(item, 'com.enactor.mfc.basket.items.ISurchargeItem') ? 'SURCHARGE_ITEM' : 'CHARGE_ITEM'))}" renderedExpression="" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="ChargeItemDescription">
                <core:flowConstraint/>
            </core:label>
        </core:elements>
    </core:panel>
    <core:panel hAlign="CENTRE" transparentBackground="true" id="ChargeItemValue">
        <core:flowConstraint width="21%"/>
        <core:elements>
            <core:label allowWrap="true" colour="#{item.voided ? '#bcbcbb' : '#2f2f2f'}" id="ChargeItemNetValue">
                <core:flowConstraint/>
                <core:text>#{format:formatCurrency(item.netValue)}</core:text>
            </core:label>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:panel>
                            <core:pageElementRef pageDefinitionURL="Pos/BasketItemAdditionalData" elementIdRef="AdditionalData" transparentBackground="true" id="AdditionalDataRef">
<core:flowConstraint width="100%"/>
<core:elements/>
<core:parameter value="#{item}" name="item">
    <core:interfaceName>java.lang.Object</core:interfaceName>
</core:parameter>
<core:parameter value="#{view}" name="view">
    <core:interfaceName>java.util.Map</core:interfaceName>
</core:parameter>
                            </core:pageElementRef>
                        </core:elements>
                    </core:panel>
                    <core:panel transparentBackground="true" id="BasketControls">
                        <core:flowConstraint width="125"/>
                        <core:elements>
                            <core:panel hAlign="CENTRE" transparentBackground="true" id="ModifyPanel">
<core:flowConstraint width="60" height="40"/>
<core:elements>
    <core:label id="DummyLabel">
        <core:flowConstraint/>
    </core:label>
</core:elements>
                            </core:panel>
                            <core:panel hAlign="CENTRE" transparentBackground="true" id="VoidPanel">
<core:flowConstraint width="60" height="40"/>
<core:elements>
    <core:button adjustImagesToSize="false" imageUrl="NextGen1024x768/Pos/ButtonReturn.png" allowWrap="false" transparentBackground="true" visibility="#{viewBasket:testReturnItem(basket,item, visibilityTestData1,visibilityTestData2)}" id="ReturnLineItem">
        <core:flowConstraint width="40" height="40"/>
        <core:text>OKPressed</core:text>
        <core:data>
            <core:expression value="#{item}" javaInterfaceName="java.lang.Object" name="enactor.coreUI.SelectedItem"/>
        </core:data>
    </core:button>
</core:elements>
                            </core:panel>
                        </core:elements>
                    </core:panel>
                    <core:panel hAlign="CENTRE" renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.IVoidableItem') &amp;&amp; item.voided}" transparentBackground="true" backgroundImageURL="NextGen1366x768/Pos/ButtonItemVoided.png" id="VoidImage">
                        <core:flowConstraint width="120" height="70"/>
                        <core:elements/>
                    </core:panel>
                </core:elements>
            </core:panel>
            <core:pageElementRef pageDefinitionURL="Pos/BasketItemsModifiers" elementIdRef="BasketItemModifiersPanel" transparentBackground="true" id="BasketItemsModifiersRef">
                <core:flowConstraint width="1078"/>
                <core:elements/>
                <core:parameter value="#{item}" name="item">
                    <core:interfaceName>java.lang.Object</core:interfaceName>
                </core:parameter>
                <core:parameter value="#{view}" name="view">
                    <core:interfaceName>java.util.Map</core:interfaceName>
                </core:parameter>
            </core:pageElementRef>
            <core:panel transparentBackground="true" backgroundColour="#f1f1f1" id="SeperatorPanel">
                <core:flowConstraint width="1078" height="1"/>
                <core:elements/>
            </core:panel>
        </core:elements>
    </core:panel>
    <core:panel renderedExpression="#{instanceOf(item, 'com.enactor.mfc.basket.items.ITenderItem')}" transparentBackground="true" id="TendersPanel">
        <core:flowConstraint width="1078"/>
        <core:elements>
            <core:pageElementRef pageDefinitionURL="Pos/BasketTenderItems" elementIdRef="BasketTenderItemsPanel" rendered="true" transparentBackground="true" id="TENDER_ITEMS_PAGE_ELEMENT_REFERENCE">
                <core:flowConstraint width="100%"/>
                <core:elements/>
                <core:parameter value="#{item}" name="item">
                    <core:interfaceName>java.lang.Object</core:interfaceName>
                </core:parameter>
                <core:parameter value="#{view}" name="view">
                    <core:interfaceName>java.util.Map</core:interfaceName>
                </core:parameter>
            </core:pageElementRef>
            <core:panel transparentBackground="true" backgroundColour="#f1f1f1" id="SeperatorPanel">
                <core:flowConstraint width="1078" height="1"/>
                <core:elements/>
            </core:panel>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:cell>
                        </core:dataTable>
                    </core:elements>
                </core:panel>
            </core:elements>
        </core:panel>
    </core:elements>
    <core:templateURL>NextGen1366x768/Pos/FullScreenTraditionalPosTemplate</core:templateURL>
    <core:events>
        <core:event destination="enactor.Prompt" event="key.EnterPressed">OKPressed</core:event>
        <core:event destination="SelectionList" event="key.UpPressed">up</core:event>
        <core:event destination="SelectionList" event="key.DownPressed">down</core:event>
    </core:events>
    <core:variables>
        <core:variable required="true" name="view">
            <core:interfaceName>java.util.Map</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.coreUI.List">
            <core:interfaceName>java.util.List</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.coreUI.ListItemVisibilityTest">
            <core:interfaceName>java.lang.String</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.SelectedBackgroundColour">
            <core:interfaceName>java.lang.String</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.SelectedForegroundColour">
            <core:interfaceName>java.lang.String</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.coreUI.ListHeader">
            <core:interfaceName>java.lang.Object</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.coreUI.ListFooter">
            <core:interfaceName>java.lang.Object</core:interfaceName>
        </core:variable>
        <core:variable name="displayReturnHistoryButton">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="hideCompleteReceipt">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.coreUI.SelectedItem">
            <core:interfaceName>java.lang.Object</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.VisibilityTestData1">
            <core:interfaceName>java.lang.Object</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.VisibilityTestData2">
            <core:interfaceName>java.lang.Object</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.mfc.Basket">
            <core:interfaceName>com.enactor.mfc.basket.IBasket</core:interfaceName>
        </core:variable>
    </core:variables>
    <core:functionLibraries>
        <core:functionLibrary name="viewBasket" path="com.enactor.posAdditionalThemes.nextGen.beans.ViewBasketBean">
            <core:type>CLASS</core:type>
        </core:functionLibrary>
    </core:functionLibraries>
</retail:posPromptPage>
