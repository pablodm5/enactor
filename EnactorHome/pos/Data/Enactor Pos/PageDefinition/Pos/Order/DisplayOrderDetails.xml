<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<retail:posPromptPage xmlns:core="http://www.enactor.com/core" xmlns:retail="http://www.enactor.com/retail" xmlns:ns4="http://www.enactor.com/crm" xmlns:sref="http://docs.oasis-open.org/wsbpel/2.0/serviceref" xmlns:ns6="http://www.apis-it.hr/fin/2012/types/f73" xmlns:ns7="http://www.w3.org/2000/09/xmldsig#" xmlns:ns8="http://www.fu.gov.si/" xmlns:ns9="http://www.enactor.com/addressLookup/service" xmlns:ns10="http://www.enactor.com/retail/storedRetailTransaction/service" xmlns:htd="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/200803" xmlns:hta="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/api/200803" xmlns:htt="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/types/200803" xmlns:ns14="http://www.enactor.com/crm/customerLoyalty/service" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" allowResize="true" allowMove="true" allowClose="true" windowtype="view-panel" height="0" width="0" messageBase="Pos/Order/OrderMessages" titleId="DISPLAY_ORDER_DETAILS_TITLE" url="Pos/Order/DisplayOrderDetails">
    <core:elements>
        <core:panel id="PAGE_PANEL">
            <core:elements>
                <core:panel verticalScrollBars="WhenNeeded" id="PANEL_1">
                    <core:boundsConstraint height="530" width="641" y="0" x="0"/>
                    <core:elements>
                        <core:tableElement id="TABLE_1">
                            <core:flowConstraint width="641"/>
                            <core:row id="RHeader">
<core:cell id="CHeader">
    <core:flowConstraint width="100%"/>
    <core:elements>
        <core:tableElement id="THeaderDetails">
            <core:flowConstraint width="100%"/>
            <core:row id="R_1">
                <core:cell id="CL_CustomerOrderId">
                    <core:flowConstraint width="15%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="COHD_CUSTOMER_ORDER_ID_LABEL" id="L_CustomerOrderId">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="C_CustomerOrderId">
                    <core:flowConstraint width="35%"/>
                    <core:elements>
                        <core:label lineHeight="0" id="L_CustomerOrderId">
                            <core:flowConstraint/>
                            <core:text>#{customerOrderHeader.customerOrderId}</core:text>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="CL_TransactionId">
                    <core:flowConstraint width="15%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="COHD_TRANSACTION_ID_LABEL" id="L_TransactionId">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="C_TransactionId">
                    <core:flowConstraint width="35%"/>
                    <core:elements>
                        <core:label lineHeight="0" id="L_TransactionId">
                            <core:flowConstraint/>
                            <core:text>#{customerOrderHeader.transactionId}</core:text>
                        </core:label>
                    </core:elements>
                </core:cell>
            </core:row>
            <core:row id="R_2">
                <core:cell id="CL_Status">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="COHD_STATUS_LABEL" id="L_Status">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="C_Status">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="HEADER_STATUS_UNKNOWN" id="L_Status">
                            <core:flowConstraint/>
                            <core:uiMessage messageId="HEADER_EMPTY_ENTRY" applicability="#{isEmpty(customerOrderHeader.status)}"/>
                            <core:uiMessage messageId="HEADER_STATUS_QUOTE" applicability="#{strings:compareStrings(customerOrderHeader.status, 'QUOTE')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_NEW" applicability="#{strings:compareStrings(customerOrderHeader.status, 'NEW')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_IN_PROGRESS" applicability="#{strings:compareStrings(customerOrderHeader.status, 'IN_PROGRESS')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_SUBMITTED" applicability="#{strings:compareStrings(customerOrderHeader.status, 'SUBMITTED')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_AVAILABLE" applicability="#{strings:compareStrings(customerOrderHeader.status, 'AVAILABLE')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_COMPLETED" applicability="#{strings:compareStrings(customerOrderHeader.status, 'COMPLETED')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_STARTING" applicability="#{strings:compareStrings(customerOrderHeader.status, 'STARTING')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_DISPATCH_PROCESSING" applicability="#{strings:compareStrings(customerOrderHeader.status, 'DISPATCH_PROCESSING')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_ATTENTION" applicability="#{strings:compareStrings(customerOrderHeader.status, 'ATTENTION')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_CANCELLED" applicability="#{strings:compareStrings(customerOrderHeader.status, 'CANCELLED')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_RETURNED" applicability="#{strings:compareStrings(customerOrderHeader.status, 'RETURNED')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_RETURN_PROCESSING" applicability="#{strings:compareStrings(customerOrderHeader.status, 'RETURN_PROCESSING')}"/>
                            <core:uiMessage messageId="HEADER_STATUS_NEW_PENDING" applicability="#{strings:compareStrings(customerOrderHeader.status, 'NEW_PENDING')}"/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="CL_ReferenceId">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="COHD_REFERENCE_ID_LABEL" id="L_ReferenceId">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="C_ReferenceId">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" id="L_CustomerOrderId">
                            <core:flowConstraint/>
                            <core:text>#{customerOrderHeader.referenceId}</core:text>
                        </core:label>
                    </core:elements>
                </core:cell>
            </core:row>
            <core:row id="R_3">
                <core:cell id="CL_CreationDate">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="COHD_CREATION_DATE_LABEL" id="L_CreationDate">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="C_CreationDate">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" id="L_CreationDate">
                            <core:flowConstraint/>
                            <core:text>#{format:formatDate(customerOrderHeader.createdDate.localDateTime)}</core:text>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="CL_CustomerNumber">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="COHD_CUSTOMER_NUMBER_LABEL" id="L_CustomerNumber">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="C_CustomerNumber">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" id="L_CustomerNumber">
                            <core:flowConstraint/>
                            <core:text>#{customerOrderHeader.customerNumber}</core:text>
                        </core:label>
                    </core:elements>
                </core:cell>
            </core:row>
            <core:row id="R_4">
                <core:cell id="CL_CustomerSurname">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="COHD_CUSTOMER_SURNAME_LABEL" id="L_CustomerSurname">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="C_CustomerSurname">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" id="L_CustomerSurname">
                            <core:flowConstraint/>
                            <core:text>#{customerOrderHeader.customerSurname}</core:text>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="CL_CustomerForename">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="COHD_CUSTOMER_FORENAME_LABEL" id="L_CustomerForename">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell id="C_CustomerForename">
                    <core:flowConstraint/>
                    <core:elements>
                        <core:label lineHeight="0" id="L_CustomerForename">
                            <core:flowConstraint/>
                            <core:text>#{customerOrderHeader.customerFirstName}</core:text>
                        </core:label>
                    </core:elements>
                </core:cell>
            </core:row>
        </core:tableElement>
    </core:elements>
</core:cell>
                            </core:row>
                            <core:row id="R_ItemsHeader">
<core:flowConstraint/>
<core:cell id="C_ItemsHeader">
    <core:elements>
        <core:tableElement id="TABLE_3">
            <core:flowConstraint/>
            <core:row id="TABLE_ROW_1">
                <core:cell backgroundColour="#ccd3db" id="TABLE_CELL_1">
                    <core:elements>
                        <core:label fontSize="18" lineHeight="0" messageId="HEADER_ITEMS" id="ItemsHeader">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
            </core:row>
        </core:tableElement>
    </core:elements>
</core:cell>
                            </core:row>
                            <core:row id="R_Items">
<core:cell id="C_Items">
    <core:elements>
        <core:dataTable rowSelection="false" var="customerOrderItem" data="#{customerOrderItems}" id="T_Item">
            <core:flowConstraint width="100%"/>
            <core:headerRow id="HR_Item">
                <core:cell backgroundColour="#ccd3db" id="HC_LineNumber">
                    <core:flowConstraint width="10%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="ITEM_LINE_NUMBER" id="HL_LineNumber">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell backgroundColour="#ccd3db" id="HC_Status">
                    <core:flowConstraint width="20%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="ITEM_STATUS" id="HL_Status">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell backgroundColour="#ccd3db" id="HC_DestinationType">
                    <core:flowConstraint width="15%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="ITEM_DESTINATION_TYPE" id="HL_DestinationType">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell backgroundColour="#ccd3db" id="HC_ProductId">
                    <core:flowConstraint width="15%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="ITEM_PRODUCT_ID" id="HL_ProductId">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell backgroundColour="#ccd3db" id="HC_Description">
                    <core:flowConstraint width="25%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="ITEM_DESCRIPTION" transparentBackground="true" id="HL_Description">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell hAlign="RIGHT" backgroundColour="#ccd3db" id="HC_Price">
                    <core:flowConstraint width="15%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="ITEM_PRICE" id="HL_Price">
                            <core:flowConstraint/>
                            <core:elementPadding right="8"/>
                        </core:label>
                    </core:elements>
                </core:cell>
            </core:headerRow>
            <core:cell visibility="#{!customerOrderItem.voided}" id="C_LineNumber">
                <core:elements>
                    <core:label lineHeight="0" id="L_LineNumber">
                        <core:flowConstraint/>
                        <core:text>#{customerOrderItem.lineNumber}</core:text>
                    </core:label>
                </core:elements>
            </core:cell>
            <core:cell visibility="#{!customerOrderItem.voided}" id="C_Status">
                <core:elements>
                    <core:label lineHeight="0" messageId="ITEM_STATUS_UNKNOWN" id="L_Status">
                        <core:flowConstraint/>
                        <core:uiMessage messageId="ITEM_STATUS_NEW" applicability="#{strings:compareStrings(customerOrderItem.status, 'NEW')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_UNSUBMITTED" applicability="#{strings:compareStrings(customerOrderItem.status, 'UNSUBMITTED')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_IN_PROGRESS" applicability="#{strings:compareStrings(customerOrderItem.status, 'IN_PROGRESS')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_SUBMITTED" applicability="#{strings:compareStrings(customerOrderItem.status, 'SUBMITTED')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_DISPATCHED" applicability="#{strings:compareStrings(customerOrderItem.status, 'DISPATCHED')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_DISPATCH_PROCESSING" applicability="#{strings:compareStrings(customerOrderItem.status, 'DISPATCH_PROCESSING')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_AVAILABLE" applicability="#{strings:compareStrings(customerOrderItem.status, 'AVAILABLE')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_COLLECTING" applicability="#{strings:compareStrings(customerOrderItem.status, 'COLLECTING')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_COMPLETED" applicability="#{strings:compareStrings(customerOrderItem.status, 'COMPLETED')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_RETURNED" applicability="#{strings:compareStrings(customerOrderItem.status, 'RETURNED')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_RETURN_PENDING" applicability="#{strings:compareStrings(customerOrderItem.status, 'RETURN_PENDING')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_ATTENTION" applicability="#{strings:compareStrings(customerOrderItem.status, 'ATTENTION')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_CANCELLED" applicability="#{strings:compareStrings(customerOrderItem.status, 'CANCELLED')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_CANCELLING" applicability="#{strings:compareStrings(customerOrderItem.status, 'CANCELLING')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_CANCEL_REQUESTED" applicability="#{strings:compareStrings(customerOrderItem.status, 'CANCEL_REQUESTED')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_PARTIALLY_DISPATCHED" applicability="#{strings:compareStrings(customerOrderItem.status, 'PARTIALLY_DISPATCHED')}"/>
                        <core:uiMessage messageId="ITEM_STATUS_BACK_ORDER" applicability="#{strings:compareStrings(customerOrderItem.status, 'BACK_ORDER')}"/>
                    </core:label>
                </core:elements>
            </core:cell>
            <core:cell visibility="#{!customerOrderItem.voided}" id="C_DestinationType">
                <core:elements>
                    <core:label lineHeight="0" messageId="#{customerOrderFulfilmentMap[customerOrderItem.fulfilmentId].destinationType}" id="L_DestinationType">
                        <core:flowConstraint/>
                    </core:label>
                </core:elements>
            </core:cell>
            <core:cell visibility="#{!customerOrderItem.voided}" id="C_ProductId">
                <core:elements>
                    <core:label lineHeight="0" id="L_ProductId">
                        <core:flowConstraint/>
                        <core:text>#{notEmpty(customerOrderItem.productKey) ? customerOrderItem.productKey.productId : ''}</core:text>
                    </core:label>
                </core:elements>
                <core:variables/>
            </core:cell>
            <core:cell visibility="#{!customerOrderItem.voided}" id="C_Description">
                <core:elements>
                    <core:tableElement transparentBackground="true" id="TABLE_2">
                        <core:flowConstraint width="100%" height="100%"/>
                        <core:row transparentBackground="true" id="TABLE_ROW_1">
                            <core:cell transparentBackground="true" id="TABLE_CELL_1">
<core:elements>
    <core:label lineHeight="0" styleClass="posColumnValue" id="L_Description">
        <core:flowConstraint/>
        <core:text>#{productDescriptionMap[customerOrderItem.productKey]}</core:text>
    </core:label>
</core:elements>
                            </core:cell>
                        </core:row>
                        <core:row transparentBackground="true" id="TABLE_ROW_2">
                            <core:cell transparentBackground="true" id="TABLE_CELL_1">
<core:elements>
    <core:dataTable rowSelection="false" var="adjustment" data="#{customerOrderItem.adjustments}" transparentBackground="true" id="DATA_TABLE_2">
        <core:flowConstraint width="100%"/>
        <core:cell transparentBackground="true" visibility="#{!adjustment.voided}" id="TABLE_CELL_1">
            <core:elements>
                <core:label lineHeight="0" styleClass="posColumnItalicValue" id="ADJUSTMENT_DESCRIPTION">
                    <core:flowConstraint/>
                    <core:text>#{adjustment.description}</core:text>
                </core:label>
            </core:elements>
        </core:cell>
    </core:dataTable>
</core:elements>
                            </core:cell>
                        </core:row>
                        <core:row id="TABLE_ROW_3">
                            <core:cell id="TABLE_CELL_1">
<core:elements>
    <core:label lineHeight="0" styleClass="posColumnValue" id="PADDING">
        <core:flowConstraint/>
        <core:elementPadding bottom="5"/>
    </core:label>
</core:elements>
                            </core:cell>
                        </core:row>
                    </core:tableElement>
                </core:elements>
            </core:cell>
            <core:cell hAlign="RIGHT" visibility="#{!customerOrderItem.voided}" id="C_Price">
                <core:elements>
                    <core:tableElement hAlign="RIGHT" transparentBackground="true" id="TABLE_2">
                        <core:flowConstraint width="100%" height="100%"/>
                        <core:row transparentBackground="true" id="TABLE_ROW_1">
                            <core:cell hAlign="RIGHT" transparentBackground="true" id="TABLE_CELL_1">
<core:elements>
    <core:label lineHeight="0" styleClass="posColumnValue" id="L_Price">
        <core:flowConstraint/>
        <core:text>#{format:formatCurrency(customerOrderItem.effectiveNetValue)}</core:text>
        <core:elementPadding right="8"/>
    </core:label>
</core:elements>
                            </core:cell>
                        </core:row>
                        <core:row transparentBackground="true" id="TABLE_ROW_2">
                            <core:cell transparentBackground="true" id="ADJUSTMENT_CELL_2">
<core:elements>
    <core:dataTable rowSelection="false" var="adjustment" data="#{customerOrderItem.adjustments}" hAlign="RIGHT" transparentBackground="true" id="ADJUSTMENT_AMOUNT_DATA_TABLE">
        <core:flowConstraint width="100%"/>
        <core:cell hAlign="RIGHT" transparentBackground="true" visibility="#{!adjustment.voided}" id="ADJUSTMENT_AMOUNT_CELL">
            <core:elements>
                <core:label lineHeight="0" styleClass="posColumnItalicValue" id="ADJUSTMENT_AMOUNT">
                    <core:flowConstraint/>
                    <core:text>#{format:formatCurrencyCurrency(adjustment.amount,customerOrderHeader.currencyKey.currencyId)}</core:text>
                    <core:elementPadding right="7"/>
                </core:label>
            </core:elements>
        </core:cell>
    </core:dataTable>
</core:elements>
                            </core:cell>
                        </core:row>
                        <core:row id="PADDING_ROW">
                            <core:cell id="TABLE_CELL_1">
<core:elements>
    <core:label lineHeight="0" styleClass="posColumnValue" id="PADDING">
        <core:flowConstraint/>
        <core:elementPadding bottom="5"/>
    </core:label>
</core:elements>
                            </core:cell>
                        </core:row>
                    </core:tableElement>
                </core:elements>
            </core:cell>
        </core:dataTable>
    </core:elements>
</core:cell>
                            </core:row>
                            <core:row id="R_PaymentsHeader">
<core:flowConstraint/>
<core:cell id="C_PaymentsHeader">
    <core:elements>
        <core:tableElement id="TABLE_4">
            <core:flowConstraint/>
            <core:row id="TABLE_ROW_1">
                <core:cell backgroundColour="#ccd3db" id="TABLE_CELL_1">
                    <core:elements>
                        <core:label fontSize="18" lineHeight="0" messageId="HEADER_PAYMENTS" id="PaymentsHeader">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
            </core:row>
        </core:tableElement>
    </core:elements>
</core:cell>
                            </core:row>
                            <core:row id="R_Payments">
<core:cell id="C_Payments">
    <core:elements>
        <core:dataTable rowSelection="false" var="customerOrderPayment" data="#{customerOrderPayments}" id="T_Payment">
            <core:flowConstraint width="100%"/>
            <core:headerRow id="HR_Number">
                <core:cell backgroundColour="#ccd3db" id="HC_Voided">
                    <core:flowConstraint width="10%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="PAYMENT_VOIDED" id="HL_Voided">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell backgroundColour="#ccd3db" id="HC_Number">
                    <core:flowConstraint width="15%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="PAYMENT_NUMBER" id="HL_Number">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell backgroundColour="#ccd3db" id="HC_Status">
                    <core:flowConstraint width="25%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="PAYMENT_STATUS" id="HL_Status">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell backgroundColour="#ccd3db" id="HC_Type">
                    <core:flowConstraint width="20%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="PAYMENT_TYPE" id="HL_Type">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell backgroundColour="#ccd3db" id="HC_SubmittedDate">
                    <core:flowConstraint width="15%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="PAYMENT_SUBMITTED_DATE" id="HL_SubmittedDate">
                            <core:flowConstraint/>
                        </core:label>
                    </core:elements>
                </core:cell>
                <core:cell hAlign="RIGHT" backgroundColour="#ccd3db" id="HC_Amount">
                    <core:flowConstraint width="15%"/>
                    <core:elements>
                        <core:label lineHeight="0" messageId="PAYMENT_AMOUNT" id="HL_Amount">
                            <core:flowConstraint/>
                            <core:elementPadding right="8"/>
                        </core:label>
                    </core:elements>
                </core:cell>
            </core:headerRow>
            <core:cell visibility="#{strings:compareStrings(customerOrderPayment.status, 'PENDING') &amp;&amp; customerOrderPayment.amount &gt; 0 ||strings:compareStrings(customerOrderPayment.status, 'COMMITTED')||strings:compareStrings(customerOrderPayment.status, 'CANCELLED')||strings:compareStrings(customerOrderPayment.status, 'ATTENTION')||strings:compareStrings(customerOrderPayment.status, 'UNDONE')}" id="C_Voided">
                <core:elements>
                    <core:label lineHeight="0" messageId="PAYMENT_IS_VOIDED" visibility="#{customerOrderPayment.voided}" colour="Red" id="L_Void">
                        <core:flowConstraint/>
                    </core:label>
                    <core:label lineHeight="0" visibility="#{!customerOrderPayment.voided}" id="L_NotVoid">
                        <core:flowConstraint/>
                        <core:text>#{'-'}</core:text>
                    </core:label>
                </core:elements>
            </core:cell>
            <core:cell visibility="#{strings:compareStrings(customerOrderPayment.status, 'PENDING') &amp;&amp; customerOrderPayment.amount &gt; 0 ||strings:compareStrings(customerOrderPayment.status, 'COMMITTED')||strings:compareStrings(customerOrderPayment.status, 'CANCELLED')||strings:compareStrings(customerOrderPayment.status, 'ATTENTION')||strings:compareStrings(customerOrderPayment.status, 'UNDONE')}" id="C_Number">
                <core:elements>
                    <core:label lineHeight="0" id="L_Number">
                        <core:flowConstraint/>
                        <core:text>#{customerOrderPayment.paymentNumber}</core:text>
                    </core:label>
                </core:elements>
            </core:cell>
            <core:cell visibility="#{strings:compareStrings(customerOrderPayment.status, 'PENDING') &amp;&amp; customerOrderPayment.amount &gt; 0 ||strings:compareStrings(customerOrderPayment.status, 'COMMITTED')||strings:compareStrings(customerOrderPayment.status, 'CANCELLED')||strings:compareStrings(customerOrderPayment.status, 'ATTENTION')||strings:compareStrings(customerOrderPayment.status, 'UNDONE')}" id="C_Status">
                <core:elements>
                    <core:label lineHeight="0" messageId="PAYMENT_STATUS_UNKNOWN" id="L_Status">
                        <core:flowConstraint/>
                        <core:uiMessage messageId="PAYMENT_STATUS_UNSUBMITTED" applicability="#{strings:compareStrings(customerOrderPayment.status, 'UNSUBMITTED')}"/>
                        <core:uiMessage messageId="PAYMENT_STATUS_PENDING" applicability="#{strings:compareStrings(customerOrderPayment.status, 'PENDING')}"/>
                        <core:uiMessage messageId="PAYMENT_STATUS_COMMITTED_ALT" applicability="#{strings:compareStrings(customerOrderPayment.status, 'COMMITTED')}"/>
                        <core:uiMessage messageId="PAYMENT_STATUS_UNDONE" applicability="#{strings:compareStrings(customerOrderPayment.status, 'UNDONE')}"/>
                    </core:label>
                </core:elements>
            </core:cell>
            <core:cell visibility="#{strings:compareStrings(customerOrderPayment.status, 'PENDING') &amp;&amp; customerOrderPayment.amount &gt; 0 ||strings:compareStrings(customerOrderPayment.status, 'COMMITTED')||strings:compareStrings(customerOrderPayment.status, 'CANCELLED')||strings:compareStrings(customerOrderPayment.status, 'ATTENTION')||strings:compareStrings(customerOrderPayment.status, 'UNDONE')}" id="C_Type">
                <core:elements>
                    <core:label lineHeight="0" messageId="PAYMENT_TYPE_NO_MATCH" id="L_Type">
                        <core:flowConstraint/>
                        <core:uiMessage messageId="PAYMENT_TYPE_CARD" applicability="#{strings:compareStrings(customerOrderPayment.paymentType, 'customerOrderCardPayment')}"/>
                        <core:uiMessage messageId="PAYMENT_TYPE_CASH" applicability="#{strings:compareStrings(customerOrderPayment.paymentType, 'customerOrderCashPayment')}"/>
                        <core:uiMessage messageId="PAYMENT_TYPE_ACCOUNT" applicability="#{strings:compareStrings(customerOrderPayment.paymentType, 'customerOrderAccountPayment')}"/>
                        <core:uiMessage messageId="PAYMENT_TYPE_CHEQUE" applicability="#{strings:compareStrings(customerOrderPayment.paymentType, 'customerOrderChequePayment')}"/>
                        <core:uiMessage messageId="PAYMENT_TYPE_EXCHANGE" applicability="#{strings:compareStrings(customerOrderPayment.paymentType, 'customerOrderExchangePayment')}"/>
                    </core:label>
                </core:elements>
            </core:cell>
            <core:cell visibility="#{strings:compareStrings(customerOrderPayment.status, 'PENDING') &amp;&amp; customerOrderPayment.amount &gt; 0 ||strings:compareStrings(customerOrderPayment.status, 'COMMITTED')||strings:compareStrings(customerOrderPayment.status, 'CANCELLED')||strings:compareStrings(customerOrderPayment.status, 'ATTENTION')||strings:compareStrings(customerOrderPayment.status, 'UNDONE')}" id="C_SubmittedDate">
                <core:elements>
                    <core:label lineHeight="0" id="L_SubmittedDate">
                        <core:flowConstraint/>
                        <core:text>#{(notEmpty(customerOrderPayment.submittedDate) &amp;&amp; notEmpty(customerOrderPayment.submittedDate.localDateTime)) ? format:formatDate(customerOrderPayment.submittedDate.localDateTime) : format:formatDate(customerOrderPayment.createdDate.localDateTime)}</core:text>
                    </core:label>
                </core:elements>
                <core:variables/>
            </core:cell>
            <core:cell hAlign="RIGHT" visibility="#{strings:compareStrings(customerOrderPayment.status, 'PENDING') &amp;&amp; customerOrderPayment.amount &gt; 0 ||strings:compareStrings(customerOrderPayment.status, 'COMMITTED')||strings:compareStrings(customerOrderPayment.status, 'CANCELLED')||strings:compareStrings(customerOrderPayment.status, 'ATTENTION')||strings:compareStrings(customerOrderPayment.status, 'UNDONE')}" id="C_Amount">
                <core:elements>
                    <core:label lineHeight="0" id="L_Amount">
                        <core:flowConstraint/>
                        <core:text>#{format:formatCurrency(customerOrderPayment.amount)}</core:text>
                        <core:elementPadding right="8"/>
                    </core:label>
                </core:elements>
            </core:cell>
        </core:dataTable>
    </core:elements>
</core:cell>
                            </core:row>
                        </core:tableElement>
                    </core:elements>
                </core:panel>
            </core:elements>
        </core:panel>
        <retail:menuPageElement menuExpression="#{menu}" id="OrderDetailsMenu">
            <retail:menu menuCatagory="RETAIL" menuType="TREE">
                <retail:menuSetId></retail:menuSetId>
                <retail:roleId>
                    <retail:roleId></retail:roleId>
                    <retail:regionId groupTypeId="region"></retail:regionId>
                </retail:roleId>
                <retail:menuGroupId groupTypeId="menuGroup"></retail:menuGroupId>
                <retail:menuDefaultGroupId groupTypeId="menuGroup"/>
                <retail:localeId></retail:localeId>
                <retail:buttonMenuItem event="Confirm" position="1" visibility="#{notEmpty(confirmOnly) &amp;&amp; confirmOnly}" messageBase="Pos/General/PosMessages" messageId="BUTTON_CONFIRM" label="" id="CONFIRM"/>
                <retail:buttonMenuItem event="#{(notEmpty(forCollection) &amp;&amp; forCollection) ? 'CollectAll':'CancelAll'}" position="2" visibility="#{(empty(confirmOnly) || !confirmOnly) &amp;&amp; (showCollectAll || showCancelAll) }" messageId="#{(notEmpty(forCollection) &amp;&amp; forCollection) ? 'BUTTON_COLLECT_All': 'BUTTON_CANCEL_ALL'}" label="" id="CollectAll"/>
                <retail:buttonMenuItem event="#{(notEmpty(forCollection) &amp;&amp; forCollection) ? 'CollectItem':'CancelItem'}" position="3" visibility="#{(empty(confirmOnly) || !confirmOnly) &amp;&amp; (showCollectItem || showCancelItem) }" messageId="#{(notEmpty(forCollection) &amp;&amp; forCollection) ? 'BUTTON_COLLECT_ITEM' : 'BUTTON_CANCEL_ITEM'}" label="" id="CollectItem"/>
                <retail:buttonMenuItem event="ReturnAll" position="4" visibility="#{(empty(confirmOnly) || !confirmOnly) &amp;&amp; notEmpty(allowReturnAll) &amp;&amp; allowReturnAll}" messageId="BUTTON_RETURN_ALL" label="" id="ReturnAll"/>
                <retail:buttonMenuItem event="ReturnItem" position="5" visibility="#{(empty(confirmOnly) || !confirmOnly) &amp;&amp; notEmpty(allowReturnItem) &amp;&amp; allowReturnItem}" messageId="BUTTON_RETURN_ITEM" label="" id="ReturnItem"/>
                <retail:menuFolderItem position="6" visibility="#{empty(confirmOnly) || !confirmOnly}" messageId="BUTTON_OTHER" label="" id="Other">
                    <retail:buttonMenuItem event="AddOrderNote" position="1" visibility="#{notEmpty(allowAddNotes) &amp;&amp; allowAddNotes}" messageBase="Pos/General/PosMessages" messageId="BUTTON_ADD_NOTE" label="" id="ADD_NOTE"/>
                    <retail:buttonMenuItem event="CollectAll" position="5" visibility="#{(empty(confirmOnly) || !confirmOnly) &amp;&amp; notEmpty(allowCollectAll) &amp;&amp; allowCollectAll &amp;&amp; (empty(forCollection) &amp;&amp; !forCollection)}" messageId="BUTTON_COLLECT_All" label="" id="CollectAll"/>
                    <retail:buttonMenuItem event="CollectItem" position="6" visibility="#{(empty(confirmOnly) || !confirmOnly) &amp;&amp; notEmpty(allowCollectItem) &amp;&amp; allowCollectItem &amp;&amp; (empty(forCollection) &amp;&amp; !forCollection)}" messageId="BUTTON_COLLECT_ITEM" label="" id="CollectItem"/>
                    <retail:buttonMenuItem event="enactor.coreUI.MenuBack" position="8" messageBase="Pos/General/PosMessages" messageId="BUTTON_BACK" label="" id=""/>
                </retail:menuFolderItem>
                <retail:buttonMenuItem event="BackPressed" position="7" messageId="BUTTON_BACK" label="" id="Back"/>
                <retail:buttonMenuItem event="CancelPressed" position="8" messageId="BUTTON_CANCEL" label="" id="Cancel"/>
            </retail:menu>
            <retail:renderElement>Button1</retail:renderElement>
            <retail:renderElement>Button2</retail:renderElement>
            <retail:renderElement>Button3</retail:renderElement>
            <retail:renderElement>Button4</retail:renderElement>
            <retail:renderElement>Button5</retail:renderElement>
            <retail:renderElement>Button6</retail:renderElement>
            <retail:renderElement>Button7</retail:renderElement>
            <retail:renderElement>Button8</retail:renderElement>
        </retail:menuPageElement>
        <core:button lineHeight="0" id="Button1"/>
        <core:button lineHeight="0" id="Button2"/>
        <core:button lineHeight="0" id="Button3"/>
        <core:button lineHeight="0" id="Button4"/>
        <core:button lineHeight="0" id="Button5"/>
        <core:button lineHeight="0" id="Button6"/>
        <core:button lineHeight="0" id="Button7"/>
        <core:button lineHeight="0" id="Button8"/>
        <core:inputText visibility="false" id="InputBox">
            <core:textElementEvents enterEvent="OKPressed"/>
        </core:inputText>
    </core:elements>
    <core:templateURL>Pos/StandardFullPosFormTemplate</core:templateURL>
    <core:variables>
        <core:variable name="enactor.customerOrders.retail.CustomerOrderHeader">
            <core:interfaceName>com.enactor.customerOrders.retail.customerOrderHeader.ICustomerOrderHeader</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.customerOrders.AllowAddNotes">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.retail.CustomerOrderFulfilmentMap">
            <core:interfaceName>java.util.Map</core:interfaceName>
        </core:variable>
        <core:variable name="adjustment">
            <core:interfaceName>com.enactor.customerOrders.customerOrderAdjustment.retail.ICustomerOrderAdjustment</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.retail.CustomerOrderItems">
            <core:interfaceName>java.util.List</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.retail.CustomerOrderNotes">
            <core:interfaceName>java.util.List</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.retail.CustomerOrderPayments">
            <core:interfaceName>java.util.List</core:interfaceName>
        </core:variable>
        <core:variable name="customerOrderItem">
            <core:interfaceName>com.enactor.customerOrders.retail.customerOrderItem.ICustomerOrderItem</core:interfaceName>
        </core:variable>
        <core:variable name="customerOrderPayment">
            <core:interfaceName>com.enactor.customerOrders.retail.customerOrderPayment.ICustomerOrderPayment</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.ProductDescriptionMap">
            <core:interfaceName>java.util.Map</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.AllowCollectAll">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.crm.ForCollection">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.AllowCollectItem">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.AllowReturnAll">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.AllowReturnItem">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.crm.ExternalDataMap">
            <core:interfaceName>java.util.Map</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.crm.AllowBack">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.ConfirmOnly">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.crm.ForCancellation">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.ShowCollectAll">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.ShowCollectItem">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.ShowCancelAll">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.customerOrders.ShowCancelItem">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
    </core:variables>
</retail:posPromptPage>
