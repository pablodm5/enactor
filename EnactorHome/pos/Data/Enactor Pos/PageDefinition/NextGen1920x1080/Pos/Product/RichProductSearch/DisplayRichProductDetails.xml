<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<retail:posPromptPage xmlns:core="http://www.enactor.com/core" xmlns:retail="http://www.enactor.com/retail" xmlns:ns4="http://www.enactor.com/crm" xmlns:hta="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/api/200803" xmlns:ns6="http://www.apis-it.hr/fin/2012/types/f73" xmlns:ns7="http://www.w3.org/2000/09/xmldsig#" xmlns:ns8="http://www.enactor.com/retail/storedRetailTransaction/service" xmlns:ns9="http://www.fu.gov.si/" xmlns:ns10="http://www.enactor.com/addressLookup/service" xmlns:htd="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/200803" xmlns:htt="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/types/200803" xmlns:sref="http://docs.oasis-open.org/wsbpel/2.0/serviceref" xmlns:ns14="http://www.enactor.com/crm/customerLoyalty/service" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" allowResize="true" allowMove="true" hasBorders="FALSE" allowClose="true" windowtype="view-panel" height="1080" width="1920" updateMode="REDRAW_PAGE" styleClass="rpsPage" messageBase="Pos/Product/RichProductSearchMessages" url="NextGen1920x1080/Pos/Product/RichProductSearch/DisplayRichProductDetails">
    <core:elements>
        <core:hidden id="ToggleAlphaKeyboard"/>
        <core:hidden id="ToggleKeyBoardEventPanel"/>
        <core:panel namingContainer="false" styleClass="headerPanel" id="Headerpanel">
            <core:elements>
                <core:button adjustImagesToSize="false" lineHeight="0" id="BackButton">
                    <core:text>BackPressed</core:text>
                </core:button>
                <core:eventPanel value="BackPressed" id="BackEventPanel">
                    <core:elements>
                        <core:label lineHeight="0" messageBase="NextGen/PosMessages" messageId="LABEL_BACK" styleClass="headerPanelLabel" id="BackLabel"/>
                    </core:elements>
                </core:eventPanel>
            </core:elements>
        </core:panel>
        <core:panel id="RPSFullPagePanel">
            <core:elements>
                <core:panel horizontalScrollBars="None" verticalScrollBars="None" colour="RED" id="AltImagesPanel1">
                    <core:boundsConstraint height="168" width="600" y="442" x="28"/>
                    <core:elements>
                        <core:panel horizontalScrollBars="WhenNeeded" id="AltImageScrollPanel">
                            <core:flowConstraint width="600" height="168"/>
                            <core:elements>
<core:dataTable maxRepeatCount="0" repeatColumns="true" rowIndexVar="imageIndex" rowSelection="false" var="rowMediaItem" data="#{keySet(productMediaMap)}" horizontalScrollBars="WhenNeeded" verticalScrollBars="None" styleClass="dataTable" id="DATA_TABLE_1">
    <core:flowConstraint height="154"/>
    <core:elements/>
    <core:verticalScrollBar orientation="VERTICAL" id="DataTable1VerticalScrollBar">
        <core:flowConstraint width="21" height="21"/>
    </core:verticalScrollBar>
    <core:cell id="TABLE_CELL_1">
        <core:flowConstraint/>
        <core:elements>
            <core:panel vAlign="CENTRE" hAlign="CENTRE" styleClass="rpsImageBorderPanel" id="AltImageBorder">
                <core:flowConstraint width="168" height="126"/>
                <core:elements>
                    <core:eventPanel value="AltImagePressed" styleClass="rpsImagePanel" backgroundImageURL="#{notEmpty(rowMediaItem) ? viewBasket:resolveURL(rowMediaItem.mediaURL) : getConfigValue('Product.NoImageURL', 'noimage.jpg')}" visible="true" style="ImageStyle=ScaledMaintainAspect" id="ALT_IMAGE_EVENT_PANEL">
                        <core:flowConstraint width="168" height="126"/>
                        <core:elements/>
                        <core:clickEvent>AltImagePressed</core:clickEvent>
                        <core:data>
                            <core:expression value="#{rowMediaItem}" javaInterfaceName="com.enactor.productCatalogueSearchMessages.productCatalogueSearch.IProductMediaSetItem" name="enactor.pos.SelectedMediaItemMapKey"/>
                        </core:data>
                    </core:eventPanel>
                </core:elements>
            </core:panel>
        </core:elements>
    </core:cell>
</core:dataTable>
                            </core:elements>
                            <core:verticalScrollBar orientation="VERTICAL" id="AltImagesPanel1VerticalScrollBar">
<core:flowConstraint width="21" height="21"/>
                            </core:verticalScrollBar>
                            <core:horizontalScrollBar orientation="HORIZONTAL" id="AltImagesPanel1HorizontalScrollBar">
<core:flowConstraint width="39" height="29"/>
                            </core:horizontalScrollBar>
                        </core:panel>
                    </core:elements>
                </core:panel>
                <core:label lineHeight="0" styleClass="rpsProductID" id="ProductIdField">
                    <core:boundsConstraint height="23" width="746" y="74" x="645"/>
                    <core:text>#{concatenate(resolveMessage('Pos/Product/ProductMessages', 'PRODUCT_NO'), ' ' , productDetail.productId)}</core:text>
                </core:label>
                <core:label lineHeight="0" messageBase="NextGen/PosMessages" messageId="LABEL_INFO" styleClass="rpsSubTitle" id="INFO_LABLE">
                    <core:boundsConstraint height="46" width="746" y="265" x="645"/>
                </core:label>
                <core:panel styleClass="rpsSeparator" id="SeperatorPanel">
                    <core:boundsConstraint height="2" width="754" y="315" x="645"/>
                    <core:elements/>
                </core:panel>
                <core:text allowWrap="true" lineHeight="0" styleClass="rpsProdDesc" transparentBackground="true" enabled="true" id="ProductInfoField">
                    <core:boundsConstraint height="106" width="746" y="320" x="645"/>
                    <core:verticalAlignment>TOP</core:verticalAlignment>
                    <core:text>#{notEmpty(informationText) ? informationText : ''}</core:text>
                    <core:verticalScrollBar orientation="VERTICAL" id="ProductInfoFieldVerticalScrollBar">
                        <core:flowConstraint width="21" height="21"/>
                    </core:verticalScrollBar>
                </core:text>
                <core:panel styleClass="rpsBorderPanel" id="ControlPanel">
                    <core:boundsConstraint height="886" width="472" y="22" x="1413"/>
                    <core:elements>
                        <core:panel id="PANEL_3">
                            <core:boundsConstraint height="592" width="472" y="0" x="0"/>
                            <core:elements>
<core:text lineHeight="0" messageBase="Pos/Product/ProductMessages" messageId="#{loadProductInventoryDetailsFail ? 'FAILED_TO_LOAD_INVENTORY_DETAILS' : loadProductInventoryDetailsCancel ? 'NO_INVENTORY_DETAILS_HAVE_BEEN_LOADED' : 'LOADING_INVENTORY_DETAILS'}" styleClass="rpslabel13" transparentBackground="true" visibility="#{!loadProductInventoryDetailsSuccess}" id="LoadingMessage">
    <core:boundsConstraint height="67" width="472" y="28" x="28"/>
</core:text>
<core:panel id="ProductOptionsPanel">
    <core:boundsConstraint height="553" width="472" y="0" x="0"/>
    <core:elements>
        <core:text lineHeight="0" allowFocus="false" styleClass="#{(notEmpty(selectedSize) &amp;&amp; notEmpty(getValue(localInventorySkuMap, selectedSize.productId).value)  &amp;&amp; getValue(localInventorySkuMap, selectedSize.productId).value == 0) || ((isEmpty(selectedSize) || isEmpty(getValue(localInventorySkuMap, selectedSize.productId).value)) &amp;&amp; localInventoryLevel.value == 0) ? 'rpsStockValueLabelZero' : 'rpsStockValueLabel'}" transparentBackground="true" visibility="#{loadProductInventoryDetailsSuccess}" id="LOCAL_STOCK_VALUE">
            <core:boundsConstraint height="45" width="120" y="28" x="365"/>
            <core:verticalAlignment>TOP</core:verticalAlignment>
            <core:text>#{notEmpty(selectedSize) &amp;&amp; 
notEmpty(getValue(localInventorySkuMap, selectedSize.productId).value) ? 
getValue(localInventorySkuMap, selectedSize.productId).value : 
localInventoryLevel.value}</core:text>
        </core:text>
        <core:label lineHeight="0" messageBase="Pos/Product/ProductMessages" messageId="LOCAL_STOCK" styleClass="rpsSubTitle" visibility="#{loadProductInventoryDetailsSuccess}" id="LOCAL_STOCK_TITLE">
            <core:boundsConstraint height="35" width="226" y="28" x="28"/>
            <core:verticalAlignment>TOP</core:verticalAlignment>
        </core:label>
        <core:text lineHeight="0" messageBase="NextGen/PosMessages" messageId="LABEL_QUNATITY" allowFocus="false" styleClass="rpsSubTitle" transparentBackground="true" visibility="true" id="Quantitylabel">
            <core:boundsConstraint height="45" width="166" y="506" x="16"/>
        </core:text>
        <core:panel hAlign="CENTRE" visibility="true" id="QuantityPanel">
            <core:boundsConstraint height="65" width="221" y="493" x="241"/>
            <core:elements>
                <core:panel id="PANEL_1">
                    <core:flowConstraint width="60" height="65"/>
                    <core:elements>
                        <core:button adjustImagesToSize="true" lineHeight="0" styleClass="rpsButtonQuantityDownButton" transparentBackground="true" visibility="#{selectMode != true}" id="DecreseQuantity">
                            <core:flowConstraint width="60" height="60"/>
                            <core:text>DecreseQuantity</core:text>
                        </core:button>
                    </core:elements>
                </core:panel>
                <core:panel vAlign="CENTRE" id="PANEL_2">
                    <core:flowConstraint width="60" height="60"/>
                    <core:elements>
                        <core:label lineHeight="0" styleClass="rpslabel14Bold" visibility="true" id="QuantityLable">
                            <core:flowConstraint width="60" height="65"/>
                            <core:alignment>CENTRE</core:alignment>
                            <core:text>#{selectedQuantity}</core:text>
                        </core:label>
                    </core:elements>
                </core:panel>
                <core:panel id="PANEL_3">
                    <core:flowConstraint width="60" height="65"/>
                    <core:elements>
                        <core:button adjustImagesToSize="true" lineHeight="0" styleClass="rpsButtonQuantityUpButton" transparentBackground="true" visibility="#{selectMode != true}" id="IncreseQuantity">
                            <core:flowConstraint width="60" height="65"/>
                            <core:text>IncreseQuantity</core:text>
                        </core:button>
                    </core:elements>
                </core:panel>
            </core:elements>
        </core:panel>
        <core:tableElement verticalScrollBars="WhenNeeded" transparentBackground="true" id="TABLE_2">
            <core:boundsConstraint height="312" width="426" y="79" x="33"/>
            <core:row id="TABLE_ROW_3">
                <core:cell id="TABLE_CELL_1">
                    <core:elements>
                        <core:panel id="PANEL_7">
                            <core:flowConstraint width="405" height="62"/>
                            <core:elements>
<core:text lineHeight="0" messageBase="NextGen/PosMessages" messageId="LABEL_COLOUR" styleClass="rpsSubTitle" transparentBackground="true" visibility="#{notEmpty(colourList) &amp;&amp; instanceOf(product, 'com.enactor.mfc.product.IStyleColourSizeProduct')}" id="Colourlabel">
    <core:boundsConstraint height="40" width="183" y="15" x="-12"/>
</core:text>
<core:label lineHeight="0" visibility="#{notEmpty(displayColourTiles) &amp;&amp; displayColourTiles &amp;&amp; notEmpty(selectedColour)}" id="SelectedColourId">
    <core:boundsConstraint height="40" width="200" y="15" x="105"/>
    <core:text>#{concatenate(': ', selectedColour.colourId)}</core:text>
</core:label>
<core:comboBox manualDropDownDisabled="false" lazyLoad="false" allowBlank="#{true}" editable="true" lineHeight="0" styleClass="rpsComboBox" visibility="#{notEmpty(displayColourTiles) &amp;&amp; not displayColourTiles &amp;&amp; notEmpty(colourList) &amp;&amp; instanceOf(product, 'com.enactor.mfc.product.IStyleColourSizeProduct')}" id="ColourCombo">
    <core:boundsConstraint height="42" width="221" y="0" x="184"/>
    <core:text>#{selectedColour}</core:text>
    <core:textElementEvents valueChangedEvent="ColourSelected"/>
    <core:listExpression>#{viewBasket:getCoulorKeysAndLocalisedDescriptionList(colourList, dynamicColourKeysMap, userLocale)}</core:listExpression>
    <core:listingElementEvents>
        <core:selectionEvent>ColourSelected</core:selectionEvent>
    </core:listingElementEvents>
</core:comboBox>
                            </core:elements>
                        </core:panel>
                    </core:elements>
                </core:cell>
            </core:row>
            <core:row visibility="#{notEmpty(colourList) &amp;&amp; size(colourList) &gt; 1  &amp;&amp; notEmpty(displayColourTiles) &amp;&amp; displayColourTiles}" id="TABLE_ROW_6">
                <core:cell id="TABLE_CELL_1">
                    <core:elements>
                        <core:dataTable maxRepeatCount="4" repeatColumns="true" rowIndexVar="rowColourIndex" rowSelection="false" var="rowColour" data="#{colourList}" transparentBackground="true" id="ColourDataTable">
                            <core:flowConstraint width="448"/>
                            <core:cell id="TABLE_CELL_1">
<core:elements>
    <core:panel vAlign="CENTRE" hAlign="CENTRE" visibility="#{viewBasket:isViewColourCode(rowColour, dynamicColourKeysMap)}" id="PANEL_4">
        <core:flowConstraint width="70" height="85"/>
        <core:elements>
            <core:eventPanel styleClass="#{notEmpty(selectedColour) &amp;&amp; rowColour.colourId == selectedColour.colourId ? 'colour-swatch-highlight' : 'colour-swatch'}" backgroundColour="#{viewBasket:getSwatchColourCodeOrImageUrl(rowColour, dynamicColourKeysMap)}" visible="true" id="ColourButtonPanel">
                <core:flowConstraint width="70" height="65"/>
                <core:elements/>
                <core:clickEvent>ColourSelected</core:clickEvent>
                <core:data>
                    <core:expression value="#{rowColour}" javaInterfaceName="com.enactor.mfc.product.colour.IColourKey" name="enactor.pos.SelectedColour"/>
                </core:data>
            </core:eventPanel>
        </core:elements>
    </core:panel>
    <core:panel vAlign="CENTRE" hAlign="CENTRE" styleClass="rpsImageBorderPanel" visibility="#{viewBasket:isViewColourImage(rowColour, dynamicColourKeysMap)}" id="AltImageBorder">
        <core:flowConstraint width="70" height="85"/>
        <core:elements>
            <core:eventPanel styleClass="#{notEmpty(selectedColour) &amp;&amp; rowColour.colourId == selectedColour.colourId ? 'colour-swatch-highlight' : 'colour-swatch'}" backgroundImageURL="#{viewBasket:getSwatchColourCodeOrImageUrl(rowColour, dynamicColourKeysMap)}" visible="true" style="ImageStyle=ScaledMaintainAspect" id="ColourImagePanel">
                <core:flowConstraint width="70" height="65"/>
                <core:elements/>
                <core:clickEvent>ColourSelected</core:clickEvent>
                <core:data>
                    <core:expression value="#{rowColour}" javaInterfaceName="com.enactor.mfc.product.colour.IColourKey" name="enactor.pos.SelectedColour"/>
                </core:data>
            </core:eventPanel>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:cell>
                        </core:dataTable>
                    </core:elements>
                </core:cell>
            </core:row>
            <core:row id="TABLE_ROW_1">
                <core:cell id="TABLE_CELL_1">
                    <core:elements>
                        <core:panel id="PANEL_7">
                            <core:flowConstraint width="405" height="62"/>
                            <core:elements>
<core:label lineHeight="0" messageBase="Pos/Product/ProductMessages" messageId="SELECT_SIZE" styleClass="rpsSubTitle" visibility="#{notEmpty(sizeList) &amp;&amp; size(sizeList) &gt; 1}" id="SELECT_SIZE">
    <core:boundsConstraint height="35" width="405" y="15" x="0"/>
</core:label>
<core:label lineHeight="0" styleClass="rpsSubTitle" visibility="#{notEmpty(sizeList) &amp;&amp; size(sizeList) &lt; displaySizeCount + 1}" id="SELECT_SINGLE_SIZE">
    <core:boundsConstraint height="35" width="405" y="15" x="0"/>
    <core:text>#{concatenate(resolveMessage('Pos/Product/ProductMessages', 'SELECT_SIZE'), ': ' , viewBasket:getSizeLocalisedDescription(selectedSize.sizeKey.sizeId, selectedSize.sizeKey.sizeRangeId , dynamicColourKeysMap, userLocale))}</core:text>
</core:label>
<core:comboBox manualDropDownDisabled="false" lazyLoad="false" allowBlank="#{true}" editable="true" lineHeight="0" styleClass="rpsComboBox" visibility="#{notEmpty(sizeList) &amp;&amp; size(sizeList) &gt; displaySizeCount}" id="SizeCombo">
    <core:boundsConstraint height="42" width="221" y="0" x="184"/>
    <core:text>#{selectedSize}</core:text>
    <core:textElementEvents valueChangedEvent="ColourSelected"/>
    <core:listExpression>#{viewBasket:getSizeKeysAndLocalisedDescriptionList(sizeList, dynamicColourKeysMap, userLocale)}</core:listExpression>
    <core:listingElementEvents>
        <core:selectionEvent>SizeSelected</core:selectionEvent>
    </core:listingElementEvents>
</core:comboBox>
                            </core:elements>
                        </core:panel>
                    </core:elements>
                </core:cell>
            </core:row>
            <core:row id="TABLE_ROW_2">
                <core:cell visibility="#{notEmpty(sizeList) &amp;&amp; size(sizeList) &lt; displaySizeCount + 1}" id="TABLE_CELL_1">
                    <core:elements>
                        <core:dataTable maxRepeatCount="4" repeatColumns="true" rowIndexVar="rowSizeIndex" rowSelection="false" var="rowSize" data="#{sizeList}" transparentBackground="true" visibility="#{notEmpty(sizeList) &amp;&amp; size(sizeList) &gt; 1}" id="SizeDataTable">
                            <core:flowConstraint width="448"/>
                            <core:cell id="TABLE_CELL_1">
<core:elements>
    <core:panel vAlign="CENTRE" hAlign="LEFT" transparentBackground="true" id="PANEL_4">
        <core:flowConstraint width="70" height="80"/>
        <core:elements>
            <core:button adjustImagesToSize="true" allowWrap="false" lineHeight="0" styleClass="#{notEmpty(selectedSize) &amp;&amp; rowSize.productId == selectedSize.productId ? 'rpsSizeButtonPressed' : 'rpsSizeButton'}" id="SizeButton">
                <core:flowConstraint width="70" height="65"/>
                <core:text>SizeSelected</core:text>
                <core:labelText>#{viewBasket:getSizeLocalisedDescription(rowSize.sizeKey.sizeId, rowSize.sizeKey.sizeRangeId, dynamicColourKeysMap, userLocale)}</core:labelText>
                <core:data>
                    <core:expression value="#{rowSize}" javaInterfaceName="java.lang.Object" name="enactor.pos.SelectedSize"/>
                </core:data>
            </core:button>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:cell>
                        </core:dataTable>
                    </core:elements>
                </core:cell>
            </core:row>
            <core:row id="TABLE_ROW_4">
                <core:cell id="TABLE_CELL_1">
                    <core:elements>
                        <core:dataTable rowIndexVar="styleAttributeIndex" rowSelection="false" var="styleAttributeData" data="#{styleAttributeOptionList}" transparentBackground="true" id="StyleAttributeTable">
                            <core:flowConstraint width="406"/>
                            <core:variables>
<core:variable name="styleAttributeData">
    <core:interfaceName>com.enactor.pos.product.StyleAttributeOptionData</core:interfaceName>
</core:variable>
                            </core:variables>
                            <core:cell visibility="#{notEmpty(styleAttributeData.choiceDataOption.displayType) &amp;&amp; styleAttributeData.choiceDataOption.displayType == 'IMAGE'}" id="StyleAttributeImageTypeCell">
<core:elements>
    <core:panel id="PANEL_7">
        <core:flowConstraint width="406" height="90"/>
        <core:elements>
            <core:label allowWrap="true" lineHeight="0" styleClass="rpsLabel" transparentBackground="true" id="StyleAttributeName">
                <core:boundsConstraint height="15" width="72" y="0" x="0"/>
                <core:text>#{notEmpty(getLocalisedString(styleAttributeData.choiceDataOption.title, userLocale)) ? getLocalisedString(styleAttributeData.choiceDataOption.title, userLocale) : styleAttributeData.choiceDataOption.name}</core:text>
            </core:label>
            <core:panel hAlign="CENTRE" styleClass="rpsImagePanel" backgroundImageURL="#{notEmpty(styleAttributeData.choiceDataOptionEntry.imageUrl) ? viewBasket:resolveURL(styleAttributeData.choiceDataOptionEntry.imageUrl) : getConfigValue('Product.NoImageURL', 'noimage.jpg')}" style="ImageStyle=ScaledMaintainAspect" id="StyleAtrributeImagePanel">
                <core:boundsConstraint height="70" width="72" y="20" x="0"/>
                <core:elements/>
            </core:panel>
            <core:label allowWrap="false" lineHeight="0" styleClass="rpsSubTitle" enabled="true" id="DescriptionField">
                <core:boundsConstraint height="20" width="115" y="20" x="87"/>
                <core:text>#{notEmpty(styleAttributeData.choiceDataOption.description) ? styleAttributeData.choiceDataOption.description : ''}</core:text>
            </core:label>
            <core:label allowWrap="false" lineHeight="0" styleClass="rpsSubTitle" enabled="true" id="DescriptionValueField">
                <core:boundsConstraint height="20" width="115" y="40" x="87"/>
                <core:text>#{notEmpty(styleAttributeData.choiceDataOptionEntry.label) ? styleAttributeData.choiceDataOptionEntry.label : ''}</core:text>
            </core:label>
            <core:eventPanel styleClass="rpsChangeOptionEntryButton" id="ChangeOptionEntryButton">
                <core:boundsConstraint height="27" width="115" y="60" x="87"/>
                <core:elements>
                    <core:label allowWrap="false" fontSize="12" lineHeight="0" messageBase="Pos/Product/ProductMessages" messageId="CHANGE_CHOICE_OPTION_ENTRY" styleClass="rpsChangeOptionEntryButtonLabel" id="ChangeOptionEntryButtonLabel">
                        <core:flowConstraint width="100%" height="100%"/>
                        <core:alignment>CENTRE</core:alignment>
                        <core:verticalAlignment>CENTRE</core:verticalAlignment>
                    </core:label>
                </core:elements>
                <core:clickEvent>StyleAttributeChoiceOptionSelected</core:clickEvent>
                <core:data>
                    <core:expression value="#{styleAttributeIndex}" javaInterfaceName="java.lang.Integer" name="enactor.pos.StyleAttributeChoiceOptionSelected"/>
                </core:data>
            </core:eventPanel>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:cell>
                            <core:cell visibility="#{(isEmpty(styleAttributeData.choiceDataOption.displayType)) || (styleAttributeData.choiceDataOption.displayType != 'IMAGE')}" id="StyleAttributeCell">
<core:elements>
    <core:panel transparentBackground="true" id="StyleAttributePanel">
        <core:flowConstraint width="100%" height="105"/>
        <core:elements>
            <core:label allowWrap="true" lineHeight="0" styleClass="rpsLabel" transparentBackground="true" id="StyleAttributeName">
                <core:boundsConstraint height="35" width="260" y="10" x="0"/>
                <core:text>#{notEmpty(getLocalisedString(styleAttributeData.choiceDataOption.title, userLocale)) ? getLocalisedString(styleAttributeData.choiceDataOption.title, userLocale) : styleAttributeData.choiceDataOption.name}</core:text>
            </core:label>
            <core:comboBox manualDropDownDisabled="false" lazyLoad="false" allowBlank="#{true}" lineHeight="0" styleClass="rpsComboBox" id="StyleAttributeCombo">
                <core:boundsConstraint height="60" width="260" y="45" x="0"/>
                <core:text>#{styleAttributeData.selectedValue}</core:text>
                <core:textElementEvents/>
                <core:data>
                    <core:expression value="StyleAttributeIndex" javaInterfaceName="java.lang.Integer" name="enactor.pos.StyleAttributeSelectedIndex"/>
                </core:data>
                <core:listExpression>#{styleAttributeData.filteredList}</core:listExpression>
                <core:listingElementEvents>
                    <core:selectionEvent>StyleAttributeSelected</core:selectionEvent>
                </core:listingElementEvents>
            </core:comboBox>
        </core:elements>
    </core:panel>
</core:elements>
                            </core:cell>
                        </core:dataTable>
                    </core:elements>
                </core:cell>
            </core:row>
            <core:row visibility="#{notEmpty(selectFromRemaining) &amp;&amp; selectFromRemaining}" id="TABLE_ROW_5">
                <core:cell id="TABLE_CELL_1">
                    <core:elements>
                        <core:panel transparentBackground="true" id="RemainingPanel">
                            <core:boundsConstraint height="105" width="282" y="0" x="0"/>
                            <core:elements>
<core:label lineHeight="0" messageBase="NextGen/PosMessages" messageId="LABEL_REMAINING" styleClass="rpsSubTitle" transparentBackground="true" id="RemainingLabel">
    <core:boundsConstraint height="35" width="123" y="10" x="0"/>
</core:label>
<core:comboBox manualDropDownDisabled="false" lazyLoad="false" documentTemplateUrl="Pos/Product/RichProductSearch/ProductListTemplate" allowBlank="#{true}" lineHeight="0" styleClass="rpsComboBox" id="RemainingCombo">
    <core:boundsConstraint height="60" width="260" y="45" x="0"/>
    <core:text>#{productSelectedFromRemaining}</core:text>
    <core:textElementEvents/>
    <core:listExpression>#{remainingSKUProductElemList}</core:listExpression>
    <core:listingElementEvents>
        <core:selectionEvent>RemainingItemSelected</core:selectionEvent>
    </core:listingElementEvents>
</core:comboBox>
                            </core:elements>
                        </core:panel>
                    </core:elements>
                </core:cell>
            </core:row>
        </core:tableElement>
    </core:elements>
</core:panel>
                            </core:elements>
                        </core:panel>
                        <core:button lineHeight="0" messageBase="NextGen/PosMessages" messageId="ORDER_PRODUCT" styleClass="orderbutton" visibility="#{(selectMode != true) &amp;&amp; displayOrderButton &amp;&amp; notEmpty(productDetail.allowCustomerOrder) &amp;&amp; (productDetail.allowCustomerOrder) &amp;&amp; notEmpty(user)}" id="OrderButton">
                            <core:boundsConstraint height="70" width="406" y="788" x="28"/>
                            <core:templateConstraints allowRemoval="true" allowReplacement="true" allowEdit="true"/>
                            <core:alignment>CENTRE</core:alignment>
                            <core:text>OrderPressed</core:text>
                        </core:button>
                        <core:button lineHeight="0" messageBase="NextGen/PosMessages" messageId="CHECK_NEARBY_STORE_STOCK" styleClass="blackButton" visibility="#{(selectMode != true) &amp;&amp; (notEmpty(alternativeLocationColourSizeMap) || notEmpty(alternativeLocationInventoryLevel))}" id="StoreCheckButton">
                            <core:boundsConstraint height="70" width="406" y="620" x="28"/>
                            <core:text>NearestStoreStockCheck</core:text>
                        </core:button>
                        <core:button lineHeight="0" messageBase="NextGen/PosMessages" messageId="#{(selectMode == true) ? 'BUTTON_SELECT' : 'ADD_TO_BAG'}" styleClass="addTobagButton" visibility="#{notEmpty(user)}" id="AddToBagButton">
                            <core:boundsConstraint height="70" width="406" y="704" x="28"/>
                            <core:templateConstraints allowRemoval="true" allowReplacement="true" allowEdit="true"/>
                            <core:alignment>CENTRE</core:alignment>
                            <core:text>SellPressed</core:text>
                        </core:button>
                    </core:elements>
                </core:panel>
                <core:eventPanel value="page.LargeImagePopupPanel.show" vAlign="CENTRE" hAlign="LEFT" styleClass="rpsImagePanel" backgroundImageURL="#{viewBasket:resolveURL(largeImageURL)}" style="ImageStyle=ScaledMaintainAspect" id="LargerImage">
                    <core:boundsConstraint height="410" width="547" y="22" x="54"/>
                    <core:elements/>
                </core:eventPanel>
                <core:label allowWrap="false" lineHeight="0" styleClass="rpsTitle" enabled="true" id="DescriptionField">
                    <core:boundsConstraint height="53" width="754" y="22" x="637"/>
                    <core:text>#{productDetail.description}</core:text>
                </core:label>
                <core:text allowWrap="true" lineHeight="0" styleClass="rpsProdDesc" transparentBackground="true" enabled="true" id="ProductLongDescriptionField">
                    <core:boundsConstraint height="120" width="748" y="105" x="643"/>
                    <core:verticalAlignment>TOP</core:verticalAlignment>
                    <core:text>#{longDescription}</core:text>
                    <core:verticalScrollBar orientation="VERTICAL" id="ProductLongDescriptionVerticalScrollBar">
                        <core:flowConstraint width="21" height="21"/>
                    </core:verticalScrollBar>
                </core:text>
                <core:panel styleClass="rpsBorderPanel" id="FOTTER_PANEL">
                    <core:boundsConstraint height="293" width="1369" y="616" x="22"/>
                    <core:elements>
                        <core:panel horizontalScrollBars="WhenNeeded" id="PRODUCT_MEDIA_SCROLL_PANEL">
                            <core:boundsConstraint height="222" width="1336" y="70" x="1"/>
                            <core:elements>
<core:dataTable repeatColumns="true" rowSelection="false" var="rowProduct" data="#{keySet(footerProductMap)}" styleClass="dataTable" id="DATA_TABLE_2">
    <core:flowConstraint height="222"/>
    <core:cell id="TABLE_CELL_1">
        <core:flowConstraint/>
        <core:elements>
            <core:eventPanel value="SelectedFooterProductSelected" hAlign="CENTRE" id="PRODUCT_MEDIA_EVENT_PANEL">
                <core:flowConstraint width="220" height="220"/>
                <core:elements>
                    <core:label lineHeight="0" styleClass="rpsPriceThumb" id="LABEL_2">
                        <core:boundsConstraint height="24" width="180" y="184" x="20"/>
                        <core:alignment>CENTRE</core:alignment>
                        <core:text>#{format:formatCurrency(footerProductMap[rowProduct])}</core:text>
                    </core:label>
                    <core:panel hAlign="CENTRE" styleClass="rpsImagePanel" backgroundImageURL="#{notEmpty(rowProduct.imageUrl) ? viewBasket:resolveURL(rowProduct.imageUrl) : getConfigValue('Product.NoImageURL', 'noimage.jpg')}" style="ImageStyle=ScaledMaintainAspect" id="MediaImagePanel">
                        <core:boundsConstraint height="162" width="196" y="7" x="12"/>
                        <core:elements/>
                    </core:panel>
                </core:elements>
                <core:clickEvent>SelectedFooterProductSelected</core:clickEvent>
                <core:data>
                    <core:expression value="#{rowProduct.productKey.productId}" javaInterfaceName="java.lang.String" name="enactor.pos.SelectedFooterProductId"/>
                </core:data>
            </core:eventPanel>
        </core:elements>
    </core:cell>
</core:dataTable>
                            </core:elements>
                            <core:horizontalScrollBar orientation="HORIZONTAL" id="ProductMediaScrollPanelHorizontalBar">
<core:flowConstraint width="39" height="29"/>
                            </core:horizontalScrollBar>
                        </core:panel>
                        <core:panel id="FeaturedButtonsTable">
                            <core:boundsConstraint height="66" width="1336" y="1" x="1"/>
                            <core:elements>
<core:button lineHeight="0" messageBase="NextGen/PosMessages" messageId="SUGGESTED_WITH" styleClass="#{upsaleSelected ? 'rpsUpsaleTabButtonWhite' : 'rpsUpsaleTabButton'}" id="UP_SALE_BUTTON">
    <core:flowConstraint width="267" height="66"/>
    <core:text>UpsaleTabSelected</core:text>
</core:button>
<core:button lineHeight="0" messageBase="NextGen/PosMessages" messageId="RECENT_VIEWED" styleClass="#{receintSelected ? 'rpsTabButtonWhite' : 'rpsTabButton'}" id="RECEINT_VIEWD_BUTTON">
    <core:flowConstraint width="267" height="66"/>
    <core:text>ReceintTabSelected</core:text>
</core:button>
<core:button lineHeight="0" messageBase="NextGen/PosMessages" messageId="ACCESSORIES" styleClass="#{accessoriesSelected ? 'rpsTabButtonWhite' : 'rpsTabButton'}" visibility="#{contains(productListMap, &quot;ACCESSORIES&quot;)}" id="ACCESSORIES_BUTTON">
    <core:flowConstraint width="267" height="66"/>
    <core:text>AccessoriesTabSelected</core:text>
</core:button>
<core:button lineHeight="0" messageBase="NextGen/PosMessages" messageId="SIMILAR_PRODUCTS" styleClass="#{similarProductsSelected ? 'rpsTabButtonWhite' : 'rpsTabButton'}" visibility="#{contains(productListMap, &quot;SIMILAR&quot;)}" id="SIMILAR_PRODUCTS_BUTTON">
    <core:flowConstraint width="267" height="66"/>
    <core:text>SimilarProductsTabSelected</core:text>
</core:button>
<core:button lineHeight="0" messageBase="NextGen/PosMessages" messageId="CONSTITUENTS_PRODUCTS" styleClass="#{constituentsSelected ? 'rpsTabButtonWhite' : 'rpsTabButton'}" visibility="#{instanceOf(product, 'com.enactor.mfc.product.IBundleProduct')}" id="CONSTITIUENTS_PRODUCTS_BUTTON">
    <core:flowConstraint width="267" height="66"/>
    <core:text>ConstituentsTabSelected</core:text>
</core:button>
                            </core:elements>
                        </core:panel>
                    </core:elements>
                </core:panel>
                <core:hidden id="Prompt"/>
                <core:panel id="PANEL_5">
                    <core:boundsConstraint height="30" width="746" y="230" x="645"/>
                    <core:elements>
                        <core:panel visibility="#{notEmpty(productDetail.productPriceHistory.history) &amp;&amp; size(productDetail.productPriceHistory.history) &gt; 1}" id="PANEL_5">
                            <core:boundsConstraint height="30" width="746" y="0" x="0"/>
                            <core:elements>
<core:label lineHeight="0" messageBase="NextGen/PosMessages" messageId="WAS_PRICE" styleClass="rpsPrice" id="WAS_PRICE">
    <core:flowConstraint height="30"/>
</core:label>
<core:panel id="PANEL_6">
    <core:flowConstraint width="9"/>
    <core:elements/>
</core:panel>
<core:label lineHeight="0" messageBase="NextGen/PosMessages" messageId="NOW_PRICE" styleClass="rpsPrice" id="NOW_PRICE">
    <core:flowConstraint height="30"/>
</core:label>
                            </core:elements>
                        </core:panel>
                        <core:panel visibility="#{isEmpty(productDetail.productPriceHistory.history) || size(productDetail.productPriceHistory.history) == 1}" id="CURRENT_PRICE_PANEL">
                            <core:boundsConstraint height="30" width="746" y="0" x="0"/>
                            <core:elements>
<core:label lineHeight="0" messageBase="NextGen/PosMessages" messageId="CURRENT_PRICE_PRICE" styleClass="rpsPrice" id="CURRENT_PRICE">
    <core:flowConstraint height="30"/>
</core:label>
                            </core:elements>
                        </core:panel>
                    </core:elements>
                </core:panel>
                <core:label fontStyle="" lineHeight="0" messageId="PROMOTIONS" styleClass="rpsSubTitleRed" id="PROMOTIONS_TITLE">
                    <core:boundsConstraint height="30" width="226" y="431" x="646"/>
                </core:label>
                <core:panel styleClass="rpsSeparator" id="Copy Of SeperatorPanel">
                    <core:boundsConstraint height="2" width="753" y="464" x="645"/>
                    <core:elements/>
                </core:panel>
                <core:listBox lazyLoad="false" listSelectionMethod="DEFAULT" documentTemplateUrl="Pos/ProductEnquiry/ProductPromotionDescriptionTemplate" verticalScrollBars="WhenNeeded" styleClass="rpsSelectionList" transparentBackground="true" visible="true" id="ProductPromotionDescriptionList">
                    <core:boundsConstraint height="140" width="746" y="470" x="645"/>
                    <core:elements/>
                    <core:verticalScrollBar orientation="VERTICAL" id="ProductPromotionDescriptionListVerticalScrollBar">
                        <core:flowConstraint width="21" height="21"/>
                    </core:verticalScrollBar>
                    <core:listExpression>#{productDetail.productPromotions.promotions}</core:listExpression>
                    <core:selectableExpression>#{false}</core:selectableExpression>
                </core:listBox>
            </core:elements>
        </core:panel>
        <core:eventPanel value="page.LargeImagePopupPanel.hide" styleClass="rpsGreyedOutPanel" visible="false" style="ImageStyle=Tiled" id="LargeImagePopupPanel">
            <core:boundsConstraint height="949" width="1920" y="141" x="0"/>
            <core:elements>
                <core:panel backgroundImageURL="#{viewBasket:resolveURL(largePopupImageURL)}" style="ImageStyle=ScaledMaintainAspect" id="LargePopupImage">
                    <core:boundsConstraint height="755" width="1141" y="26" x="375"/>
                    <core:elements/>
                </core:panel>
            </core:elements>
        </core:eventPanel>
        <core:hidden id="Prompt"/>
    </core:elements>
    <core:templateURL>NextGen1920x1080/Pos/RichProductDetailsTemplate</core:templateURL>
    <core:events>
        <core:event destination="enactor.Prompt" event="key.EnterPressed">OKPressed</core:event>
        <core:event destination="SizePanel.SizeDataTable" event="view.enactor.pos.UpdateSizeList">update</core:event>
        <core:event destination="RPSFullPagePanel.LargerImage" event="view.enactor.pos.UpdateLargeImage">update</core:event>
    </core:events>
    <core:variables>
        <core:variable name="enactor.pos.SelectedMediaItem">
            <core:interfaceName>com.enactor.productCatalogueSearchMessages.productCatalogueSearch.IProductMediaSetItem</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.DisplayOrderButton">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.coreUI.CurrentEvent">
            <core:interfaceName>com.enactor.core.events.IEvent</core:interfaceName>
        </core:variable>
        <core:variable required="false" name="enactor.pos.SizeList">
            <core:interfaceName>java.util.List</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.SelectedMediaItemMapKey">
            <core:interfaceName>com.enactor.productCatalogueSearchMessages.productCatalogueSearch.IProductMediaSetItem</core:interfaceName>
        </core:variable>
        <core:variable required="false" name="enactor.pos.ColourSizeMap">
            <core:interfaceName>java.util.Map</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.SelectedColour">
            <core:interfaceName>com.enactor.mfc.product.colour.IColourKey</core:interfaceName>
        </core:variable>
        <core:variable required="false" name="enactor.pos.ProductMediaMap">
            <core:interfaceName>java.util.Map</core:interfaceName>
        </core:variable>
        <core:variable required="false" name="enactor.pos.SelectedSize">
            <core:interfaceName>java.lang.Object</core:interfaceName>
        </core:variable>
        <core:variable required="false" name="enactor.pos.AlternativeLocationColourSizeMap">
            <core:interfaceName>java.util.Map</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.SelectedQuantity">
            <core:interfaceName>java.lang.Integer</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.productCatalogue.ProductDetail">
            <core:interfaceName>com.enactor.productCatalogueSearchMessages.productCatalogueSearch.IProductSearchDetail</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.mfc.InformationText">
            <core:interfaceName>java.lang.String</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.mfc.LongDescription">
            <core:interfaceName>java.lang.String</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.mfc.ColourList">
            <core:interfaceName>java.util.List</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.dynamicMap.DynamicColourKeysMap">
            <core:interfaceName>com.enactor.core.utilities.DynamicMap</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.inventoryManager.LocalInventoryLevel">
            <core:interfaceName>com.enactor.inventoryManagement.itemInventoryLevel.ILocationInventoryLevel</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.AlternateSizeList">
            <core:interfaceName>java.util.List</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.HasOrderModule">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.DisplayProductDetails">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.inventoryManager.WarehouseInventoryLevel">
            <core:interfaceName>com.enactor.inventoryManagement.itemInventoryLevel.ILocationInventoryLevel</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.LargeImageURL">
            <core:interfaceName>java.lang.String</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.LargePopupImageURL">
            <core:interfaceName>java.lang.String</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.mfc.Product">
            <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.mfc.StyleSizeProduct">
            <core:interfaceName>com.enactor.mfc.product.IStyleSizeProduct</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.coreUI.FooterProductMap">
            <core:interfaceName>java.util.Map</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.SelectedFooterProductId">
            <core:interfaceName>java.lang.String</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.UpsaleSelected">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.inventoryManager.AlternativeLocationInventoryLevel">
            <core:interfaceName>java.util.List</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.LocalInventorySkuMap">
            <core:interfaceName>java.util.Map</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.LoadProductInventoryDetailsCancel">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.LoadProductInventoryDetailsFail">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.LoadProductInventoryDetailsSuccess">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.mfc.TransactionHandler">
            <core:interfaceName>com.enactor.mfc.retail.transaction.IRetailTransactionHandler</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.pos.DisplayState">
            <core:interfaceName>java.lang.String</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.coreUI.UserLocale">
            <core:interfaceName>com.enactor.core.localisation.ILocale</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.StyleAttributeOptionList">
            <core:interfaceName>java.util.List</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.AllOptionsSelected">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable required="true" name="enactor.coreUI.User">
            <core:interfaceName>com.enactor.core.signOn.ISignedOnUser</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.StyleAttributeOptionList">
            <core:interfaceName>java.util.List</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.AllOptionsSelected">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable required="false" name="enactor.pos.ProductToDisplay">
            <core:interfaceName>com.enactor.mfc.product.ISKUProduct</core:interfaceName>
        </core:variable>
        <core:variable required="false" name="enactor.pos.RemainingSKUProductElemList">
            <core:interfaceName>java.util.List</core:interfaceName>
        </core:variable>
        <core:variable required="false" name="enactor.pos.SelectFromRemaining">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable required="false" name="enactor.pos.ProductSelectedFromRemaining">
            <core:interfaceName>com.enactor.mfc.product.ISKUProduct</core:interfaceName>
        </core:variable>
        <core:variable required="false" name="enactor.coreUI.ProductListMap">
            <core:interfaceName>java.util.Map</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.SelectMode">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.coreUI.ProductListMap">
            <core:interfaceName>java.util.Map</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.DisplayColourTiles">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.DisplaySizeCount">
            <core:interfaceName>java.lang.Integer</core:interfaceName>
        </core:variable>
        <core:variable name="enactor.pos.ConstituentsSelected">
            <core:interfaceName>java.lang.Boolean</core:interfaceName>
        </core:variable>
    </core:variables>
    <core:functionLibraries>
        <core:functionLibrary name="viewBasket" path="com.enactor.posAdditionalThemes.nextGen.beans.ViewBasketBean">
            <core:type>CLASS</core:type>
        </core:functionLibrary>
    </core:functionLibraries>
</retail:posPromptPage>
