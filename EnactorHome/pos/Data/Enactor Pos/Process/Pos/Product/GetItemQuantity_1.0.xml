<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<core:process xmlns:core="http://www.enactor.com/core" xmlns:retail="http://www.enactor.com/retail" xmlns:ns4="http://www.enactor.com/crm" xmlns:hta="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/api/200803" xmlns:ns6="http://www.apis-it.hr/fin/2012/types/f73" xmlns:ns7="http://www.w3.org/2000/09/xmldsig#" xmlns:ns8="http://www.enactor.com/retail/storedRetailTransaction/service" xmlns:ns9="http://www.fu.gov.si/" xmlns:ns10="http://www.enactor.com/addressLookup/service" xmlns:htd="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/200803" xmlns:htt="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/types/200803" xmlns:sref="http://docs.oasis-open.org/wsbpel/2.0/serviceref" xmlns:ns14="http://www.enactor.com/crm/customerLoyalty/service" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <core:processID>Pos/Product/GetItemQuantity</core:processID>
    <core:version>1.0</core:version>
    <core:name></core:name>
    <core:defaultMessageBaseName></core:defaultMessageBaseName>
    <core:firstStateID>StartGetQuantity</core:firstStateID>
    <core:className></core:className>
    <core:uiHints>
        <entry>
            <key>com.enactor.tools.editor.process.style</key>
            <value>63</value>
        </entry>
        <entry>
            <key>com.enactor.tools.editor.process.xloc</key>
            <value>8</value>
        </entry>
        <entry>
            <key>com.enactor.tools.editor.process.yloc</key>
            <value>8</value>
        </entry>
    </core:uiHints>
    <core:metaData>
        <core:inputs>
            <core:input required="true" name="enactor.mfc.Device">
                <core:interfaceName>com.enactor.mfc.device.IDevice</core:interfaceName>
            </core:input>
            <core:input required="true" name="enactor.pos.Quantity">
                <core:interfaceName>java.lang.Double</core:interfaceName>
            </core:input>
            <core:input required="true" name="enactor.pos.IsReturn">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </core:input>
            <core:input name="enactor.pos.IsSerialNumberedProduct">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </core:input>
            <core:input required="true" name="enactor.pos.EmbeddedQuantity">
                <core:interfaceName>java.lang.Double</core:interfaceName>
            </core:input>
            <core:input name="enactor.pos.EmbeddedPrice">
                <core:interfaceName>java.lang.Long</core:interfaceName>
            </core:input>
            <core:input required="true" name="enactor.mfc.TransactionHandler">
                <core:interfaceName>com.enactor.mfc.retail.transaction.IRetailTransactionHandler</core:interfaceName>
            </core:input>
            <core:input required="true" name="enactor.mfc.Location">
                <core:interfaceName>com.enactor.mfc.location.ILocation</core:interfaceName>
            </core:input>
            <core:input name="enactor.pos.ForceMaxQuantityAllowed">
                <core:interfaceName>java.lang.Double</core:interfaceName>
            </core:input>
            <core:input name="enactor.mfc.BasketItemToModify">
                <core:interfaceName>com.enactor.mfc.basket.items.IBasketItem</core:interfaceName>
            </core:input>
            <core:input required="true" name="enactor.mfc.PosTerminal">
                <core:interfaceName>com.enactor.mfc.posTerminal.IPOSTerminal</core:interfaceName>
            </core:input>
            <core:input required="true" name="enactor.coreUI.UserLocale">
                <core:interfaceName>com.enactor.core.localisation.ILocale</core:interfaceName>
            </core:input>
            <core:input name="enactor.mfc.InputCode">
                <core:interfaceName>java.lang.String</core:interfaceName>
            </core:input>
            <core:input required="true" name="enactor.mfc.Product">
                <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
            </core:input>
            <core:input name="enactor.pos.ForceQuantityEntry">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </core:input>
            <core:input name="enactor.pos.ForOrder">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </core:input>
        </core:inputs>
        <core:outputs>
            <core:output required="true" name="enactor.mfc.Device">
                <core:interfaceName>com.enactor.mfc.device.IDevice</core:interfaceName>
            </core:output>
            <core:output required="true" name="enactor.pos.Quantity">
                <core:interfaceName>java.lang.Double</core:interfaceName>
            </core:output>
            <core:output required="true" name="enactor.pos.IsReturn">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </core:output>
            <core:output name="enactor.pos.IsSerialNumberedProduct">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </core:output>
            <core:output required="true" name="enactor.pos.EmbeddedQuantity">
                <core:interfaceName>java.lang.Double</core:interfaceName>
            </core:output>
            <core:output name="enactor.pos.EmbeddedPrice">
                <core:interfaceName>java.lang.Long</core:interfaceName>
            </core:output>
            <core:output required="true" name="enactor.mfc.TransactionHandler">
                <core:interfaceName>com.enactor.mfc.retail.transaction.IRetailTransactionHandler</core:interfaceName>
            </core:output>
            <core:output required="true" name="enactor.mfc.Location">
                <core:interfaceName>com.enactor.mfc.location.ILocation</core:interfaceName>
            </core:output>
            <core:output name="enactor.pos.ForceMaxQuantityAllowed">
                <core:interfaceName>java.lang.Double</core:interfaceName>
            </core:output>
            <core:output name="enactor.mfc.BasketItemToModify">
                <core:interfaceName>com.enactor.mfc.basket.items.IBasketItem</core:interfaceName>
            </core:output>
            <core:output required="true" name="enactor.mfc.PosTerminal">
                <core:interfaceName>com.enactor.mfc.posTerminal.IPOSTerminal</core:interfaceName>
            </core:output>
            <core:output required="true" name="enactor.coreUI.UserLocale">
                <core:interfaceName>com.enactor.core.localisation.ILocale</core:interfaceName>
            </core:output>
            <core:output name="enactor.mfc.InputCode">
                <core:interfaceName>java.lang.String</core:interfaceName>
            </core:output>
            <core:output required="true" name="enactor.mfc.Product">
                <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
            </core:output>
            <core:output name="enactor.pos.ForceQuantityEntry">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </core:output>
            <core:output name="enactor.pos.ForOrder">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </core:output>
        </core:outputs>
        <stateDataTypes>
            <stateDataType required="true" name="enactor.pos.IsReturn">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.pos.MaxQuantityAllowed">
                <core:interfaceName>java.lang.Double</core:interfaceName>
            </stateDataType>
            <stateDataType name="enactor.mfc.BasketItemToModify">
                <core:interfaceName>com.enactor.mfc.basket.items.IBasketItem</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.mfc.PosTerminal">
                <core:interfaceName>com.enactor.mfc.posTerminal.IPOSTerminal</core:interfaceName>
            </stateDataType>
            <stateDataType name="enactor.mfc.InputCode">
                <core:interfaceName>java.lang.String</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.mfc.Product">
                <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.coreUI.UserLocale">
                <core:interfaceName>com.enactor.core.localisation.ILocale</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.mfc.Location">
                <core:interfaceName>com.enactor.mfc.location.ILocation</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.pos.AlternativeProductList">
                <core:interfaceName>java.util.List</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.mfc.SalesUnitOfMeasure">
                <core:interfaceName>com.enactor.mfc.measureSystem.IUnitOfMeasure</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.mfc.TransactionHandler">
                <core:interfaceName>com.enactor.mfc.retail.transaction.IRetailTransactionHandler</core:interfaceName>
            </stateDataType>
            <stateDataType name="enactor.pos.IsSerialNumberedProduct">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.pos.Quantity">
                <core:interfaceName>java.lang.Double</core:interfaceName>
            </stateDataType>
            <stateDataType name="enactor.pos.EmbeddedPrice">
                <core:interfaceName>java.lang.Long</core:interfaceName>
            </stateDataType>
            <stateDataType name="enactor.pos.ForceQuantityEntry">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.inventoryManagement.ItemInventoryLevelValue">
                <core:interfaceName>java.lang.Double</core:interfaceName>
            </stateDataType>
            <stateDataType name="enactor.pos.ForceMaxQuantityAllowed">
                <core:interfaceName>java.lang.Double</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.mfc.MeasureSystem">
                <core:interfaceName>com.enactor.mfc.measureSystem.IMeasureSystem</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.pos.EmbeddedQuantity">
                <core:interfaceName>java.lang.Double</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.mfc.InventoryUnitOfMeasure">
                <core:interfaceName>com.enactor.mfc.measureSystem.IUnitOfMeasure</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.mfc.Device">
                <core:interfaceName>com.enactor.mfc.device.IDevice</core:interfaceName>
            </stateDataType>
            <stateDataType required="true" name="enactor.pos.QuantityEntered">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </stateDataType>
            <stateDataType name="enactor.pos.ForOrder">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </stateDataType>
        </stateDataTypes>
    </core:metaData>
    <core:comment>Get the quantity for a product item.  Will prompt if product speciifes quantity enrty or ForceQuantityEntry is true. If a BasketItemToModify is supplied, the transaction quantity checks take account of this.</core:comment>
    <core:endProcessAction>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>EndProcessCancel</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UIEndProcessAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>1</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1488</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>16</value>
            </entry>
        </core:uiHints>
        <core:metaData/>
        <core:typeId>enactor.types.EndProcess</core:typeId>
        <core:outcome>Cancel</core:outcome>
        <core:defaultProcessId></core:defaultProcessId>
    </core:endProcessAction>
    <core:endProcessAction>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>EndProcessSuccess</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UIEndProcessAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>1</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1736</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>15</value>
            </entry>
        </core:uiHints>
        <core:metaData/>
        <core:typeId>enactor.types.EndProcess</core:typeId>
        <core:outcome>Success</core:outcome>
        <core:defaultProcessId></core:defaultProcessId>
    </core:endProcessAction>
    <core:action>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>CheckTransQuantity</core:actionID>
        <core:name>Check Transaction Quantity</core:name>
        <core:className>com.enactor.pos.packages.sellItem.processes.CheckTransQuantityAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>47</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1484</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>435</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:inputs>
                <core:input required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.mfc.TransactionHandler">
                    <core:interfaceName>com.enactor.mfc.retail.transaction.IRetailTransactionHandler</core:interfaceName>
                </core:input>
                <core:input name="enactor.mfc.BasketItemToModify">
                    <core:interfaceName>com.enactor.mfc.basket.items.IBasketItem</core:interfaceName>
                </core:input>
                <core:input name="enactor.pos.IsReturn">
                    <core:interfaceName>java.lang.Boolean</core:interfaceName>
                </core:input>
                <core:input name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:input>
            </core:inputs>
            <core:outcomes>
                <core:outcome name="Success"/>
                <core:outcome name="enactor.pos.ExceedMaxTransQty"/>
                <core:outcome name="enactor.pos.WarnExceedMaxTransQty"/>
            </core:outcomes>
        </core:metaData>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>CheckAvailableStockExtension</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>2</core:linkID>
            <core:toStateID>ExceedMaxTransQty</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition></core:condition>
            <core:outcome>enactor.pos.ExceedMaxTransQty</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>3</core:linkID>
            <core:toStateID>WarnExceedMaxTransQty</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition></core:condition>
            <core:outcome>enactor.pos.WarnExceedMaxTransQty</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>4</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessSuccess</core:toActionID>
            <core:condition>process.isReturn != null &amp;&amp; process.isReturn</core:condition>
            <core:comment>no inventory check for returns</core:comment>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
    </core:action>
    <core:endProcessAction>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>EndProcessZeroStock</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UIEndProcessAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>1</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1995</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>16</value>
            </entry>
        </core:uiHints>
        <core:metaData/>
        <core:typeId>enactor.types.EndProcess</core:typeId>
        <core:outcome>ZeroStock</core:outcome>
        <core:defaultProcessId></core:defaultProcessId>
    </core:endProcessAction>
    <core:action>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>CheckUnitQuantity</core:actionID>
        <core:name>Check Transaction Quantity</core:name>
        <core:className>com.enactor.pos.packages.sellItem.processes.CheckUnitQuantityAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>11</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1256</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>379</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:inputs>
                <core:input required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:input>
            </core:inputs>
            <core:outcomes>
                <core:outcome name="Success"/>
                <core:outcome name="enactor.pos.InvalidUnitQty"/>
            </core:outcomes>
        </core:metaData>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>CheckTransQuantity</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>2</core:linkID>
            <core:toStateID>InvalidUnitQuantity</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition></core:condition>
            <core:outcome>enactor.pos.InvalidUnitQty</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>3</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessSuccess</core:toActionID>
            <core:condition>process.isReturn != null &amp;&amp; process.isReturn</core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
    </core:action>
    <core:assignAction>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>SetQtyEntered</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UIAssignAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>27</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1013</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>590</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:inputs>
                <core:input required="true" name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:input>
                <core:input name="enactor.pos.QuantityEntered">
                    <core:interfaceName>java.lang.Boolean</core:interfaceName>
                </core:input>
            </core:inputs>
            <core:outputs>
                <core:output required="true" name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:output>
                <core:output required="true" name="enactor.pos.QuantityEntered">
                    <core:interfaceName>java.lang.Boolean</core:interfaceName>
                </core:output>
            </core:outputs>
            <core:outcomes>
                <core:outcome name="Success"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.Assign</core:typeId>
        <core:outcomeLink>
            <core:linkID>2</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>TestQuantity</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:dataAssignment toExpression="quantityEntered" fromExpression="true"/>
    </core:assignAction>
    <core:executeProcessAction>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>InitQuantityEntry</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UICallProcessAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>1023</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>436</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>303</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:inputs>
                <core:input name="enactor.pos.EmbeddedPrice">
                    <core:interfaceName>java.lang.Long</core:interfaceName>
                </core:input>
                <core:input name="enactor.pos.ForceQuantityEntry">
                    <core:interfaceName>java.lang.Boolean</core:interfaceName>
                </core:input>
                <core:input name="enactor.mfc.InputCode">
                    <core:interfaceName>java.lang.String</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.coreUI.UserLocale">
                    <core:interfaceName>com.enactor.core.localisation.ILocale</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.mfc.TransactionHandler">
                    <core:interfaceName>com.enactor.mfc.retail.transaction.IRetailTransactionHandler</core:interfaceName>
                </core:input>
                <core:input name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:input>
            </core:inputs>
            <core:outputs>
                <core:output required="true" name="enactor.mfc.MeasureSystem">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IMeasureSystem</core:interfaceName>
                </core:output>
                <core:output required="true" name="enactor.mfc.SalesUnitOfMeasure">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IUnitOfMeasure</core:interfaceName>
                </core:output>
                <core:output required="true" name="enactor.mfc.InventoryUnitOfMeasure">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IUnitOfMeasure</core:interfaceName>
                </core:output>
            </core:outputs>
            <core:outcomes>
                <core:outcome name="QuantityEntry"/>
                <core:outcome name="UseScale"/>
                <core:outcome name="NotRequired"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.CallProcess</core:typeId>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>GetWeightFromScale</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>UseScale</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>2</core:linkID>
            <core:toStateID>EnterQuantity</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition></core:condition>
            <core:outcome>QuantityEntry</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>3</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>CheckUnitQuantity</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>NotRequired</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>4</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>TestQuantity</core:toActionID>
            <core:condition>process.embeddedQuantity != null</core:condition>
            <core:outcome>QuantityEntry</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>5</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>GetWeightFromScale</core:toActionID>
            <core:condition>notEmpty(process.posTerminal.scalesType) &amp;&amp; (process.measureSystem.unitsType == 'WEIGHED')</core:condition>
            <core:outcome>QuantityEntry</core:outcome>
        </core:outcomeLink>
        <core:executeProcessId>Pos/Product/InitQuantityEntry</core:executeProcessId>
    </core:executeProcessAction>
    <core:action>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>Check</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UINullAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>1</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>436</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>722</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:outcomes>
                <core:outcome name="Success"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.NullAction</core:typeId>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>CheckUnitQuantity</core:toActionID>
            <core:condition>(notEmpty(process.isSerialNumberedProduct) &amp;&amp; process.isSerialNumberedProduct) || (notEmpty(process.product) &amp;&amp; notEmpty(process.product.posDetails) &amp;&amp; process.product.posDetails.disallowQuantityEntry)</core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>2</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>InitQuantityEntry</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
    </core:action>
    <core:assignAction>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>SetMaxQTYTo99</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UIAssignAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>19</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>454</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>973</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:outputs>
                <core:output required="true" name="enactor.pos.MaxQuantityAllowed">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:output>
            </core:outputs>
            <core:outcomes>
                <core:outcome name="Success"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.Assign</core:typeId>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>AdjustMaxAllowed</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:dataAssignment toExpression="maxQuantityAllowed" fromExpression="99"/>
    </core:assignAction>
    <core:assignAction>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>SetMaxQTYTo9999</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UIAssignAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>19</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>225</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>973</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:outputs>
                <core:output required="true" name="enactor.pos.MaxQuantityAllowed">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:output>
            </core:outputs>
            <core:outcomes>
                <core:outcome name="Success"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.Assign</core:typeId>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>AdjustMaxAllowed</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:dataAssignment toExpression="maxQuantityAllowed" fromExpression="9999"/>
    </core:assignAction>
    <core:action>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>CheckPrivileges</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.CheckPrivilegesAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>67</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>225</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>774</value>
            </entry>
        </core:uiHints>
        <core:privileges>enactor.pos.AllowedQuantitySaleGreaterThan99</core:privileges>
        <core:metaData>
            <core:outcomes>
                <core:outcome name="Success"/>
                <core:outcome name="Fail"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.BasicAction</core:typeId>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>SetMaxQTYTo99</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Fail</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>2</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>SetMaxQTYTo9999</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
    </core:action>
    <core:assignAction>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>AdjustMaxAllowed</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UIAssignAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>27</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>744</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>973</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:inputs>
                <core:input required="true" name="enactor.pos.MaxQuantityAllowed">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:input>
                <core:input required="false" name="enactor.pos.ForceMaxQuantityAllowed">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:input>
            </core:inputs>
            <core:outputs>
                <core:output required="true" name="enactor.pos.MaxQuantityAllowed">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:output>
            </core:outputs>
            <core:outcomes>
                <core:outcome name="Success"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.Assign</core:typeId>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>Check</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:dataAssignment toExpression="maxQuantityAllowed" fromExpression="notEmpty(forceMaxQuantityAllowed) &amp;&amp; forceMaxQuantityAllowed &lt; maxQuantityAllowed ? forceMaxQuantityAllowed : maxQuantityAllowed"/>
    </core:assignAction>
    <core:action>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>TestQuantity</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UINullAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>1</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1012</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>286</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:outcomes>
                <core:outcome name="Success"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.NullAction</core:typeId>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID>InvalidQuantity</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition>process.quantity &lt;= 0 || process.quantity &gt; process.maxQuantityAllowed</core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>2</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>CheckUnitQuantity</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
    </core:action>
    <core:assignAction>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>SetDefaultQuantity</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UIAssignAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>27</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1014</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>972</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:inputs>
                <core:input name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:input>
            </core:inputs>
            <core:outputs>
                <core:output required="false" name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:output>
            </core:outputs>
            <core:outcomes>
                <core:outcome name="Success"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.Assign</core:typeId>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID>EnterQuantity</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:dataAssignment toExpression="quantity" fromExpression="notEmpty(quantity)? quantity : 1"/>
    </core:assignAction>
    <core:executeProcessAction>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>CheckAvailableStockExtension</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UICallExtensionPointProcessAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>943</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1727</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>407</value>
            </entry>
        </core:uiHints>
        <core:param value="CheckAvailableStock" name="enactor.coreUI.ExtensionPointId">
            <core:interfaceName>java.lang.String</core:interfaceName>
        </core:param>
        <core:metaData>
            <core:inputs>
                <core:input name="enactor.mfc.BasketItemToModify">
                    <core:interfaceName>com.enactor.mfc.basket.items.IBasketItem</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.pos.QuantityEntered">
                    <core:interfaceName>java.lang.Boolean</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.mfc.Location">
                    <core:interfaceName>com.enactor.mfc.location.ILocation</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.mfc.TransactionHandler">
                    <core:interfaceName>com.enactor.mfc.retail.transaction.IRetailTransactionHandler</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.mfc.Device">
                    <core:interfaceName>com.enactor.mfc.device.IDevice</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:input>
                <core:input name="enactor.pos.ForOrder">
                    <core:interfaceName>java.lang.Boolean</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.coreUI.ExtensionPointId">
                    <core:interfaceName>java.lang.String</core:interfaceName>
                </core:input>
            </core:inputs>
            <core:outcomes>
                <core:outcome name="EndProcessSuccess"/>
                <core:outcome name="EnterQuantity"/>
                <core:outcome name="EndProcessZeroStock"/>
                <core:outcome name="EndProcessCancel"/>
                <core:outcome name="enactor.action.StopExtensionLinking"/>
                <core:outcome name="Success"/>
                <core:outcome name="Fail"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.CallProcess</core:typeId>
        <core:outcomeLink>
            <core:linkID>EnterQuantity</core:linkID>
            <core:toStateID>EnterQuantity</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition></core:condition>
            <core:outcome>EnterQuantity</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>EndProcessCancel</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessCancel</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>EndProcessCancel</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>EndProcessZeroStock</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessZeroStock</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>EndProcessZeroStock</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>EndProcessSuccess</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessSuccess</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>EndProcessSuccess</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessSuccess</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>3</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessCancel</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Fail</core:outcome>
        </core:outcomeLink>
        <core:executeProcessId></core:executeProcessId>
    </core:executeProcessAction>
    <core:executeProcessAction>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>GetWeightFromScale</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UICallProcessAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>959</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>440</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>49</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:inputs>
                <core:input required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </core:input>
                <core:input name="enactor.mfc.SalesUnitOfMeasure">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IUnitOfMeasure</core:interfaceName>
                </core:input>
            </core:inputs>
            <core:outputs>
                <core:output required="true" name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:output>
                <core:output required="true" name="enactor.pos.QuantityEntered">
                    <core:interfaceName>java.lang.Boolean</core:interfaceName>
                </core:output>
            </core:outputs>
            <core:outcomes>
                <core:outcome name="NoScale"/>
                <core:outcome name="Cancel"/>
                <core:outcome name="Success"/>
                <core:outcome name="Fail"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.CallProcess</core:typeId>
        <core:outcomeLink>
            <core:linkID>4</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>TestQuantity</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>5</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>Forced to use Scale?</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Cancel</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>6</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>Forced to use Scale?</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>NoScale</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>7</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>Forced to use Scale?</core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Fail</core:outcome>
        </core:outcomeLink>
        <core:executeProcessId>Pos/Product/GetWeightFromScale</core:executeProcessId>
    </core:executeProcessAction>
    <core:action>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>CheckIgnoreForceUseScalesPrivileges</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.CheckPrivilegesAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>67</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>735</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>49</value>
            </entry>
        </core:uiHints>
        <core:privileges>enactor.pos.IgnoreForceUseScales</core:privileges>
        <core:metaData>
            <core:outcomes>
                <core:outcome name="Success"/>
                <core:outcome name="Fail"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.BasicAction</core:typeId>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID>NoIgnoreForceUseScalesPrivilege</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Fail</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>2</core:linkID>
            <core:toStateID>EnterQuantity</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
    </core:action>
    <core:action>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:actionID>Forced to use Scale?</core:actionID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.actions.UINullAction</core:className>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>1</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>733</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>294</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:outcomes>
                <core:outcome name="Success"/>
            </core:outcomes>
        </core:metaData>
        <core:typeId>enactor.types.NullAction</core:typeId>
        <core:outcomeLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>CheckIgnoreForceUseScalesPrivileges</core:toActionID>
            <core:condition>strings:compareStrings(process.product.posDetails.forceUseScales, 'true')</core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
        <core:outcomeLink>
            <core:linkID>2</core:linkID>
            <core:toStateID>EnterQuantity</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition></core:condition>
            <core:outcome>Success</core:outcome>
        </core:outcomeLink>
    </core:action>
    <core:promptState>
        <core:url>Pos/Product/EnterQuantity</core:url>
        <core:stateID>EnterQuantity</core:stateID>
        <core:name>Enter Quantity</core:name>
        <core:className></core:className>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>127</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>732</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>589</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:inputs>
                <core:input required="true" name="enactor.coreUI.UserLocale">
                    <core:interfaceName>com.enactor.core.localisation.ILocale</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </core:input>
                <core:input name="enactor.mfc.MeasureSystem">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IMeasureSystem</core:interfaceName>
                </core:input>
                <core:input name="enactor.mfc.SalesUnitOfMeasure">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IUnitOfMeasure</core:interfaceName>
                </core:input>
                <core:input name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:input>
                <core:input required="false" name="enactor.mfc.BasketItemToModify">
                    <core:interfaceName>com.enactor.mfc.basket.items.IBasketItem</core:interfaceName>
                </core:input>
                <core:input required="true" name="enactor.mfc.product.MinimumSalesUnit">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:input>
            </core:inputs>
            <core:outputs>
                <core:output name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:output>
            </core:outputs>
            <handledEvents>
                <handledEvent name="OKPressed"/>
                <handledEvent name="ModifyQuantity"/>
                <handledEvent name="CancelPressed"/>
                <handledEvent name="StateEntered"/>
            </handledEvents>
            <stateDataTypes>
                <stateDataType required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </stateDataType>
                <stateDataType required="true" name="enactor.coreUI.UserLocale">
                    <core:interfaceName>com.enactor.core.localisation.ILocale</core:interfaceName>
                </stateDataType>
                <stateDataType name="enactor.mfc.MeasureSystem">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IMeasureSystem</core:interfaceName>
                </stateDataType>
                <stateDataType name="enactor.mfc.SalesUnitOfMeasure">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IUnitOfMeasure</core:interfaceName>
                </stateDataType>
                <stateDataType name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </stateDataType>
                <stateDataType required="false" name="enactor.mfc.BasketItemToModify">
                    <core:interfaceName>com.enactor.mfc.basket.items.IBasketItem</core:interfaceName>
                </stateDataType>
                <stateDataType required="true" name="enactor.mfc.product.MinimumSalesUnit">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </stateDataType>
            </stateDataTypes>
        </core:metaData>
        <core:singleInstance>false</core:singleInstance>
        <core:respondToViewEvents>false</core:respondToViewEvents>
        <core:stateInputMappings>
            <core:mappings>
                <core:sourceDataType required="true" name="enactor.coreUI.UserLocale">
                    <core:interfaceName>com.enactor.core.localisation.ILocale</core:interfaceName>
                </core:sourceDataType>
                <core:targetDataType required="true" name="enactor.coreUI.UserLocale">
                    <core:interfaceName>com.enactor.core.localisation.ILocale</core:interfaceName>
                </core:targetDataType>
            </core:mappings>
            <core:mappings>
                <core:sourceDataType required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </core:sourceDataType>
                <core:targetDataType required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </core:targetDataType>
            </core:mappings>
            <core:mappings>
                <core:sourceDataType required="true" name="enactor.mfc.MeasureSystem">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IMeasureSystem</core:interfaceName>
                </core:sourceDataType>
                <core:targetDataType name="enactor.mfc.MeasureSystem">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IMeasureSystem</core:interfaceName>
                </core:targetDataType>
            </core:mappings>
            <core:mappings>
                <core:sourceDataType required="true" name="enactor.mfc.SalesUnitOfMeasure">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IUnitOfMeasure</core:interfaceName>
                </core:sourceDataType>
                <core:targetDataType name="enactor.mfc.SalesUnitOfMeasure">
                    <core:interfaceName>com.enactor.mfc.measureSystem.IUnitOfMeasure</core:interfaceName>
                </core:targetDataType>
            </core:mappings>
            <core:mappings>
                <core:sourceDataType required="true" name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:sourceDataType>
                <core:targetDataType name="enactor.pos.Quantity">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:targetDataType>
            </core:mappings>
            <core:mappings>
                <core:sourceDataType name="enactor.mfc.BasketItemToModify">
                    <core:interfaceName>com.enactor.mfc.basket.items.IBasketItem</core:interfaceName>
                </core:sourceDataType>
                <core:targetDataType required="false" name="enactor.mfc.BasketItemToModify">
                    <core:interfaceName>com.enactor.mfc.basket.items.IBasketItem</core:interfaceName>
                </core:targetDataType>
            </core:mappings>
            <core:mappings>
                <core:sourceDataType required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </core:sourceDataType>
                <core:targetDataType required="true" name="enactor.mfc.product.MinimumSalesUnit">
                    <core:interfaceName>java.lang.Double</core:interfaceName>
                </core:targetDataType>
                <core:expression>product.posDetails.minimumSalesUnit</core:expression>
            </core:mappings>
        </core:stateInputMappings>
        <core:actionInputMappings/>
        <core:actionOutputMappings>
            <core:actionMapping>
                <core:actionID>CheckAvailableStockExtension</core:actionID>
                <core:mappings>
                    <core:processMappings/>
                    <core:stateMappings/>
                </core:mappings>
            </core:actionMapping>
        </core:actionOutputMappings>
        <core:eventLink>
            <core:linkID>2</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessCancel</core:toActionID>
            <core:condition></core:condition>
            <core:event>CancelPressed</core:event>
        </core:eventLink>
        <core:eventLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>SetQtyEntered</core:toActionID>
            <core:condition></core:condition>
            <core:event>OKPressed</core:event>
        </core:eventLink>
        <core:eventLink>
            <core:linkID>3</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessCancel</core:toActionID>
            <core:condition></core:condition>
            <core:event>ModifyQuantity</core:event>
        </core:eventLink>
        <core:eventLink>
            <core:linkID>4</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>SetDefaultQuantity</core:toActionID>
            <core:condition></core:condition>
            <core:event>StateEntered</core:event>
        </core:eventLink>
        <core:keepPromptOpen>false</core:keepPromptOpen>
        <core:closeOnNextPrompt>false</core:closeOnNextPrompt>
        <core:keepPreviousPromptOpen>false</core:keepPreviousPromptOpen>
        <core:promptTimeout>0</core:promptTimeout>
        <core:hideOpenPrompt>false</core:hideOpenPrompt>
        <core:allowDatabasePromptLookup>false</core:allowDatabasePromptLookup>
    </core:promptState>
    <core:messageState>
        <core:url>/ErrorMessage/ModalOK</core:url>
        <core:stateID>InvalidQuantity</core:stateID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.states.UIMessageState</core:className>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>1</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1015</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>410</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <handledEvents>
                <handledEvent name="OKPressed"/>
            </handledEvents>
        </core:metaData>
        <core:typeId>enactor.types.MessageState</core:typeId>
        <core:singleInstance>false</core:singleInstance>
        <core:respondToViewEvents>false</core:respondToViewEvents>
        <core:actionInputMappings/>
        <core:actionOutputMappings/>
        <core:eventLink>
            <core:linkID>1</core:linkID>
            <core:toStateID>EnterQuantity</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition></core:condition>
            <core:event>OKPressed</core:event>
        </core:eventLink>
        <core:keepPromptOpen>false</core:keepPromptOpen>
        <core:closeOnNextPrompt>false</core:closeOnNextPrompt>
        <core:keepPreviousPromptOpen>false</core:keepPreviousPromptOpen>
        <core:promptTimeout>0</core:promptTimeout>
        <core:hideOpenPrompt>false</core:hideOpenPrompt>
        <core:allowDatabasePromptLookup>false</core:allowDatabasePromptLookup>
        <core:messageBase>Pos/Product/ProductMessages</core:messageBase>
        <core:messageId>INVALID_QUANTITY</core:messageId>
        <core:messageText></core:messageText>
    </core:messageState>
    <core:state>
        <core:url></core:url>
        <core:stateID>StartGetQuantity</core:stateID>
        <core:name></core:name>
        <core:className></core:className>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>5</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>226</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>632</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <handledEvents>
                <handledEvent name="StateEntered"/>
            </handledEvents>
            <stateDataTypes/>
        </core:metaData>
        <core:singleInstance>false</core:singleInstance>
        <core:respondToViewEvents>false</core:respondToViewEvents>
        <core:actionInputMappings/>
        <core:actionOutputMappings>
            <core:actionMapping>
                <core:actionID>CheckAvailableStockExtension</core:actionID>
                <core:mappings>
                    <core:processMappings/>
                    <core:stateMappings/>
                </core:mappings>
            </core:actionMapping>
        </core:actionOutputMappings>
        <core:eventLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>CheckPrivileges</core:toActionID>
            <core:condition></core:condition>
            <core:event>StateEntered</core:event>
        </core:eventLink>
    </core:state>
    <core:messageState>
        <core:url>/ErrorMessage/ModalOK</core:url>
        <core:stateID>ExceedMaxTransQty</core:stateID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.states.UIErrorState</core:className>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>1</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1487</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>343</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:inputs>
                <core:input required="true" name="maxTransQty">
                    <core:interfaceName>java.lang.Float</core:interfaceName>
                </core:input>
            </core:inputs>
            <handledEvents>
                <handledEvent name="OKPressed"/>
            </handledEvents>
            <stateDataTypes>
                <stateDataType required="true" name="maxTransQty">
                    <core:interfaceName>java.lang.Float</core:interfaceName>
                </stateDataType>
            </stateDataTypes>
        </core:metaData>
        <core:typeId>enactor.types.MessageState</core:typeId>
        <core:singleInstance>false</core:singleInstance>
        <core:respondToViewEvents>false</core:respondToViewEvents>
        <core:stateInputMappings>
            <core:mappings>
                <core:sourceDataType required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </core:sourceDataType>
                <core:targetDataType required="true" name="maxTransQty">
                    <core:interfaceName>java.lang.Float</core:interfaceName>
                </core:targetDataType>
                <core:expression>product.posDetails.maxQtyPerTransaction</core:expression>
            </core:mappings>
        </core:stateInputMappings>
        <core:actionInputMappings/>
        <core:actionOutputMappings/>
        <core:eventLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessCancel</core:toActionID>
            <core:condition></core:condition>
            <core:event>OKPressed</core:event>
        </core:eventLink>
        <core:keepPromptOpen>false</core:keepPromptOpen>
        <core:closeOnNextPrompt>false</core:closeOnNextPrompt>
        <core:keepPreviousPromptOpen>false</core:keepPreviousPromptOpen>
        <core:promptTimeout>0</core:promptTimeout>
        <core:hideOpenPrompt>false</core:hideOpenPrompt>
        <core:allowDatabasePromptLookup>false</core:allowDatabasePromptLookup>
        <core:messageBase>Pos/Product/ProductMessages</core:messageBase>
        <core:messageId>EXCEED_MAX_TRANS_QTY</core:messageId>
        <core:messageText></core:messageText>
    </core:messageState>
    <core:messageState>
        <core:url>/Message/ModalOKCancel</core:url>
        <core:stateID>WarnExceedMaxTransQty</core:stateID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.states.UIErrorState</core:className>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>37</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1251</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>147</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <core:inputs>
                <core:input required="true" name="maxTransQty">
                    <core:interfaceName>java.lang.Float</core:interfaceName>
                </core:input>
            </core:inputs>
            <handledEvents>
                <handledEvent name="OKPressed"/>
                <handledEvent name="CancelPressed"/>
            </handledEvents>
            <stateDataTypes>
                <stateDataType required="true" name="maxTransQty">
                    <core:interfaceName>java.lang.Float</core:interfaceName>
                </stateDataType>
            </stateDataTypes>
        </core:metaData>
        <core:typeId>enactor.types.MessageState</core:typeId>
        <core:singleInstance>false</core:singleInstance>
        <core:respondToViewEvents>false</core:respondToViewEvents>
        <core:stateInputMappings>
            <core:mappings>
                <core:sourceDataType required="true" name="enactor.mfc.Product">
                    <core:interfaceName>com.enactor.mfc.product.IProduct</core:interfaceName>
                </core:sourceDataType>
                <core:targetDataType required="true" name="maxTransQty">
                    <core:interfaceName>java.lang.Float</core:interfaceName>
                </core:targetDataType>
                <core:expression>product.posDetails.maxQtyPerTransaction</core:expression>
            </core:mappings>
        </core:stateInputMappings>
        <core:actionInputMappings/>
        <core:actionOutputMappings>
            <core:actionMapping>
                <core:actionID>CheckAvailableStockExtension</core:actionID>
                <core:mappings>
                    <core:processMappings/>
                    <core:stateMappings/>
                </core:mappings>
            </core:actionMapping>
        </core:actionOutputMappings>
        <core:eventLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>TestQuantity</core:toActionID>
            <core:condition></core:condition>
            <core:event>OKPressed</core:event>
        </core:eventLink>
        <core:eventLink>
            <core:linkID>2</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessCancel</core:toActionID>
            <core:condition></core:condition>
            <core:event>CancelPressed</core:event>
        </core:eventLink>
        <core:keepPromptOpen>false</core:keepPromptOpen>
        <core:closeOnNextPrompt>false</core:closeOnNextPrompt>
        <core:keepPreviousPromptOpen>false</core:keepPreviousPromptOpen>
        <core:promptTimeout>0</core:promptTimeout>
        <core:hideOpenPrompt>false</core:hideOpenPrompt>
        <core:allowDatabasePromptLookup>false</core:allowDatabasePromptLookup>
        <core:messageBase>Pos/Product/ProductMessages</core:messageBase>
        <core:messageId>WARN_EXCEED_MAX_TRANS_QTY</core:messageId>
        <core:messageText></core:messageText>
    </core:messageState>
    <core:messageState>
        <core:url>/ErrorMessage/ModalOK</core:url>
        <core:stateID>InvalidUnitQuantity</core:stateID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.states.UIMessageState</core:className>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>1</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1256</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>717</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <handledEvents>
                <handledEvent name="OKPressed"/>
            </handledEvents>
        </core:metaData>
        <core:typeId>enactor.types.MessageState</core:typeId>
        <core:singleInstance>false</core:singleInstance>
        <core:respondToViewEvents>false</core:respondToViewEvents>
        <core:actionInputMappings/>
        <core:actionOutputMappings/>
        <core:eventLink>
            <core:linkID>1</core:linkID>
            <core:toStateID>EnterQuantity</core:toStateID>
            <core:toActionID></core:toActionID>
            <core:condition></core:condition>
            <core:event>OKPressed</core:event>
        </core:eventLink>
        <core:keepPromptOpen>false</core:keepPromptOpen>
        <core:closeOnNextPrompt>false</core:closeOnNextPrompt>
        <core:keepPreviousPromptOpen>false</core:keepPreviousPromptOpen>
        <core:promptTimeout>0</core:promptTimeout>
        <core:hideOpenPrompt>false</core:hideOpenPrompt>
        <core:allowDatabasePromptLookup>false</core:allowDatabasePromptLookup>
        <core:messageBase>Pos/Product/ProductMessages</core:messageBase>
        <core:messageId>INVALID_UNIT_QUANTITY</core:messageId>
        <core:messageText></core:messageText>
    </core:messageState>
    <core:messageState>
        <core:url>/ErrorMessage/ModalOK</core:url>
        <core:stateID>NoIgnoreForceUseScalesPrivilege</core:stateID>
        <core:name></core:name>
        <core:className>com.enactor.coreUI.states.UIErrorState</core:className>
        <core:defaultNextStateID></core:defaultNextStateID>
        <core:uiHints>
            <entry>
                <key>com.enactor.tools.editor.process.style</key>
                <value>1</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.xloc</key>
                <value>1017</value>
            </entry>
            <entry>
                <key>com.enactor.tools.editor.process.yloc</key>
                <value>52</value>
            </entry>
        </core:uiHints>
        <core:metaData>
            <handledEvents>
                <handledEvent name="OKPressed"/>
            </handledEvents>
            <stateDataTypes/>
        </core:metaData>
        <core:typeId>enactor.types.MessageState</core:typeId>
        <core:singleInstance>false</core:singleInstance>
        <core:respondToViewEvents>false</core:respondToViewEvents>
        <core:stateInputMappings/>
        <core:actionInputMappings/>
        <core:actionOutputMappings/>
        <core:eventLink>
            <core:linkID>1</core:linkID>
            <core:toStateID></core:toStateID>
            <core:toActionID>EndProcessCancel</core:toActionID>
            <core:condition></core:condition>
            <core:event>OKPressed</core:event>
        </core:eventLink>
        <core:keepPromptOpen>false</core:keepPromptOpen>
        <core:closeOnNextPrompt>false</core:closeOnNextPrompt>
        <core:keepPreviousPromptOpen>false</core:keepPreviousPromptOpen>
        <core:promptTimeout>0</core:promptTimeout>
        <core:hideOpenPrompt>false</core:hideOpenPrompt>
        <core:allowDatabasePromptLookup>false</core:allowDatabasePromptLookup>
        <core:messageBase>Pos/Product/ProductMessages</core:messageBase>
        <core:messageId>NO_IGNORE_FORCE_USE_SCALES_PRIVILEGE</core:messageId>
        <core:messageText></core:messageText>
    </core:messageState>
    <core:stateTransitions/>
</core:process>
