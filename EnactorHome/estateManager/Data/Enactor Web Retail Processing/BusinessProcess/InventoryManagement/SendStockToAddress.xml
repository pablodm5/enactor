<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<core:simpleActivityFlowBusinessProcess xmlns:core="http://www.enactor.com/core" xmlns:hta="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/api/200803" xmlns:htd="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/200803" xmlns:htt="http://docs.oasis-open.org/ns/bpel4people/ws-humantask/types/200803" xmlns:ns8="http://maven.apache.org/POM/4.0.0" xmlns:ns9="tools" xmlns:sref="http://docs.oasis-open.org/wsbpel/2.0/serviceref" xmlns:tools="http://www.enactor.com/tools">
    <core:processId>InventoryManagement/SendStockToAddress</core:processId>
    <core:name>Stock Transfer</core:name>
    <core:description>Stock Transfer</core:description>
    <core:businessProcessTypeId>InventoryManagement/RequestStockFromLocationType</core:businessProcessTypeId>
    <core:startPrivilege>enactor.inventoryManagement.RequestStock.Run</core:startPrivilege>
    <core:participatePrivilege>enactor.inventoryManagement.RequestStock.Run</core:participatePrivilege>
    <core:administerPrivilege>enactor.inventoryManagement.RequestStock.Admin</core:administerPrivilege>
    <core:deprecated>false</core:deprecated>
    <core:metaData>
        <core:inputs>
            <core:input required="true" name="enactor.inventoryManagement.ProductQtyListId">
                <core:interfaceName>java.lang.String</core:interfaceName>
            </core:input>
            <core:input name="enactor.inventoryManagement.DistributionRequestId">
                <core:interfaceName>java.lang.String</core:interfaceName>
            </core:input>
            <core:input required="true" name="enactor.inventoryManagement.DispatchCreated">
                <core:interfaceName>java.lang.Boolean</core:interfaceName>
            </core:input>
            <core:input name="enactor.inventoryManagement.ExternalReferenceId">
                <core:interfaceName>java.lang.String</core:interfaceName>
            </core:input>
            <core:input required="true" name="enactor.mfc.UserKey">
                <core:interfaceName>com.enactor.mfc.user.IUserKey</core:interfaceName>
            </core:input>
            <core:input required="true" name="enactor.inventoryManagement.SendingOrRequesting">
                <core:interfaceName>java.lang.String</core:interfaceName>
            </core:input>
        </core:inputs>
        <core:stateData>
            <core:stateData required="true" name="enactor.inventoryManagement.ProductQtyListId">
                <core:interfaceName>java.lang.String</core:interfaceName>
            </core:stateData>
            <core:stateData required="true" name="enactor.inventoryManagement.SendingOrRequesting">
                <core:interfaceName>java.lang.String</core:interfaceName>
            </core:stateData>
            <core:stateData required="true" name="enactor.mfc.UserKey">
                <core:interfaceName>com.enactor.mfc.user.IUserKey</core:interfaceName>
            </core:stateData>
            <core:stateData required="true" name="enactor.inventoryManagement.DestinationLocation">
                <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
            </core:stateData>
            <core:stateData required="true" name="enactor.inventoryManagement.SourceLocation">
                <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
            </core:stateData>
        </core:stateData>
    </core:metaData>
    <core:uiSettings xsi:type="tools:BusinessProcessSettings" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <core:constraint xsi:type="core:UIPositionConstraint">
            <core:x>10</core:x>
            <core:y>408</core:y>
        </core:constraint>
        <tools:swimLanes>
            <tools:lane label="Requesting Store" height="344" id="Lane 1"/>
            <tools:lane label="Sending Store" height="635" id="Lane 2"/>
        </tools:swimLanes>
        <tools:notes xsi:type="core:WrappedList">
            <core:listElement>
                <core:value xsi:type="tools:DataBaseNote">
                    <tools:noteId>Note3</tools:noteId>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:description>DistributionRequests
(reads)</tools:description>
                    <tools:constraint>
                        <core:x>834</core:x>
                        <core:y>212</core:y>
                        <core:height>50</core:height>
                        <core:width>150</core:width>
                    </tools:constraint>
                </core:value>
                <core:index>0</core:index>
            </core:listElement>
            <core:listElement>
                <core:value xsi:type="tools:DataBaseNote">
                    <tools:noteId>Note6</tools:noteId>
                    <tools:swimLaneId>Lane 1</tools:swimLaneId>
                    <tools:description>DistributionOrders
(reads and writes)</tools:description>
                    <tools:constraint>
                        <core:x>1974</core:x>
                        <core:y>275</core:y>
                        <core:height>50</core:height>
                        <core:width>150</core:width>
                    </tools:constraint>
                </core:value>
                <core:index>1</core:index>
            </core:listElement>
            <core:listElement>
                <core:value xsi:type="tools:DataBaseNote">
                    <tools:noteId>Note7</tools:noteId>
                    <tools:swimLaneId>Lane 1</tools:swimLaneId>
                    <tools:description>InventoryDispatches
(writes)</tools:description>
                    <tools:constraint>
                        <core:x>2313</core:x>
                        <core:y>288</core:y>
                        <core:height>50</core:height>
                        <core:width>150</core:width>
                    </tools:constraint>
                </core:value>
                <core:index>2</core:index>
            </core:listElement>
            <core:listElement>
                <core:value xsi:type="tools:BPNote">
                    <tools:noteId>Note9</tools:noteId>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:description>Status is APPROVED</tools:description>
                    <tools:constraint>
                        <core:x>1530</core:x>
                        <core:y>284</core:y>
                        <core:height>50</core:height>
                        <core:width>150</core:width>
                    </tools:constraint>
                </core:value>
                <core:index>3</core:index>
            </core:listElement>
            <core:listElement>
                <core:value xsi:type="tools:BPNote">
                    <tools:noteId>Note10</tools:noteId>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:description>Status is REJECTED</tools:description>
                    <tools:constraint>
                        <core:x>1400</core:x>
                        <core:y>344</core:y>
                        <core:height>50</core:height>
                        <core:width>150</core:width>
                    </tools:constraint>
                </core:value>
                <core:index>4</core:index>
            </core:listElement>
        </tools:notes>
        <tools:style>21</tools:style>
    </core:uiSettings>
    <core:activities xsi:type="core:WrappedList" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>DistributionRequestApproval</core:activityId>
                <core:name>Distribution Request Approval</core:name>
                <core:description>Task UI to display the distribution request details and allow the user to take actions, update approval status</core:description>
                <core:activityTypeId>InventoryManagement/DistributionRequestApprovalActivityType</core:activityTypeId>
                <core:activityOutcome name="ApproveAsRequested">
                    <core:toActivity>CreateDistributionOrder</core:toActivity>
                    <core:proceedImmediately>false</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Rejected">
                    <core:toActivity>RejectDistributionRequest</core:toActivity>
                    <core:proceedImmediately>false</core:proceedImmediately>
                </core:activityOutcome>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>DistributionRequestApproval</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Cancelled">
                    <core:toActivity></core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="ModifyApprovalQuantities">
                    <core:toActivity>ModifyDistributionRequest</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1214</core:x>
                        <core:y>17</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:noteReference name="Note Link">
                        <core:toActivity>Note3</core:toActivity>
                        <core:proceedImmediately>true</core:proceedImmediately>
                    </tools:noteReference>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionRequestId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DestinationLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.SourceLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output required="true" name="enactor.mfc.LocationKey">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:output>
                        <core:output name="enactor.coreUI.UserId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                        <core:output required="true" name="enactor.mfc.RequestApproverUserKey">
                            <core:interfaceName>com.enactor.mfc.user.IUserKey</core:interfaceName>
                        </core:output>
                        <core:output required="true" name="enactor.inventoryManagement.DestinationLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:output>
                        <core:output required="true" name="enactor.inventoryManagement.SourceLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:output>
                        <core:output required="true" name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Approval (#{notEmpty(externalReferenceId) ? 'Ref: ' : 'DR: '} #{notEmpty(externalReferenceId) ? externalReferenceId : distributionRequestId} from #{sourceLocation.locationId})</core:jobHeader>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>DISTRIBUTION_REQUEST_APPROVAL</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.ApproveDistributionRequest</core:value>
                    </core:parameter>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>0</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>CreateDistributionOrder</core:activityId>
                <core:name>Create Distribution Order</core:name>
                <core:description>Server process to read distribution request, create distribution order DB</core:description>
                <core:activityTypeId>InventoryManagement/CreateDistributionOrderActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>DistributionOrderItemsPicking</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity>ShowDistributionRequestApprovalError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1516</core:x>
                        <core:y>29</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:noteReference name="Note Link">
                        <core:toActivity>Note6</core:toActivity>
                        <core:proceedImmediately>true</core:proceedImmediately>
                    </tools:noteReference>
                    <tools:noteReference name="Note Link">
                        <core:toActivity>Note9</core:toActivity>
                        <core:proceedImmediately>true</core:proceedImmediately>
                    </tools:noteReference>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionRequestId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.SourceLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DestinationLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                        <core:output name="enactor.inventoryManagement.CreatedAtLocationId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                        <core:output name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:output>
                        <core:output name="enactor.inventoryManagement.InventoryDispatchId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
            </core:value>
            <core:index>1</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>ModifyDistributionRequest</core:activityId>
                <core:name>Modify Distribution Request</core:name>
                <core:description>UI to retrieve distribution request details and modify quantities for dispatch on distribution request and orders DB</core:description>
                <core:activityTypeId>InventoryManagement/ModifyDistributionActivityType</core:activityTypeId>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>ModifyDistributionRequest</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Back">
                    <core:toActivity>DistributionRequestApproval</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Dispatch">
                    <core:toActivity>CreateDistributionOrder</core:toActivity>
                    <core:proceedImmediately>false</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>860</core:x>
                        <core:y>443</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                    <tools:noteReference name="Note Link">
                        <core:toActivity>Note3</core:toActivity>
                        <core:proceedImmediately>true</core:proceedImmediately>
                    </tools:noteReference>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionRequestId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DestinationLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.SourceLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs/>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Modify Distribution Request (DO: #{distributionOrderId})</core:jobHeader>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>MODIFY_DISTRIBUTION_REQUEST</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.ApproveDistributionRequest</core:value>
                    </core:parameter>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>2</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>CreateDispatch</core:activityId>
                <core:name>Create Dispatch</core:name>
                <core:description>Server process to read distribution order, create dispatched quantities and inventory types with in-transit values</core:description>
                <core:activityTypeId>InventoryManagement/CreateDispatchActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>CheckDispatchEffectOnStock</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity>ShowDistributionRequestApprovalError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>2162</core:x>
                        <core:y>114</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:noteReference name="Note Link">
                        <core:toActivity>Note6</core:toActivity>
                        <core:proceedImmediately>true</core:proceedImmediately>
                    </tools:noteReference>
                    <tools:noteReference name="Note Link">
                        <core:toActivity>Note7</core:toActivity>
                        <core:proceedImmediately>true</core:proceedImmediately>
                    </tools:noteReference>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.mfc.LocationKey">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.InventoryDispatchId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.AllowInvalidItems">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:output>
                        <core:output name="enactor.inventoryManagement.InventoryDispatchId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
            </core:value>
            <core:index>3</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>ShowDistributionRequestApprovalError</core:activityId>
                <core:name>Show Distribution Request Approval Error</core:name>
                <core:activityTypeId>InventoryManagement/ShowMessageActivityType</core:activityTypeId>
                <core:activityOutcome name="OK">
                    <core:toActivity>IfSending</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>ShowDistributionRequestApprovalError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Retry">
                    <core:toActivity>CreateDistributionOrder</core:toActivity>
                    <core:proceedImmediately>false</core:proceedImmediately>
                </core:activityOutcome>
                <core:parameters>
                    <core:parameter name="enactor.inventoryManagement.DisallowSuspend">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>false</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>CREATE_DISTRIBUTION_ORDER_ERROR</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageBasename">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.inventoryManagement.DisallowOK">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>false</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.inventoryManagement.DisallowRetry">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>false</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>2194</core:x>
                        <core:y>414</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.mfc.RequestApproverUserKey">
                            <core:interfaceName>com.enactor.mfc.user.IUserKey</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.coreUI.MessageId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.coreUI.MessageBasename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowSuspend">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowOK">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowRetry">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionRequestId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Create Distribution Order Error (#{notEmpty(externalReferenceId) ? 'Ref: ' : 'DO: '} #{notEmpty(externalReferenceId) ? externalReferenceId : distributionOrderId})</core:jobHeader>
                <core:displayDescriptionMessageBase>#{errorDetails.messageBase}</core:displayDescriptionMessageBase>
                <core:displayDescriptionMessageId>#{errorDetails.messageId}</core:displayDescriptionMessageId>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>CREATE_DISTRIBUTION_ORDER_ERROR_TITLE</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.Run</core:value>
                    </core:parameter>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>4</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>RejectDistributionRequest</core:activityId>
                <core:name>Reject Distribution Request</core:name>
                <core:activityTypeId>InventoryManagement/RejectDistributionRequestActivityType</core:activityTypeId>
                <core:activityOutcome name="Error">
                    <core:toActivity>ShowDistributionRequestApprovalError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Success">
                    <core:toActivity></core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1400</core:x>
                        <core:y>439</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:noteReference name="Note Link">
                        <core:toActivity>Note10</core:toActivity>
                        <core:proceedImmediately>true</core:proceedImmediately>
                    </tools:noteReference>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionRequestId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DestinationLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.SourceLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
            </core:value>
            <core:index>5</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>GenerateDispatchNotePDF</core:activityId>
                <core:name>Generate Dispatch Note PDF</core:name>
                <core:description>Server process to generate dispatch note PDF, which may be printed by a separate process</core:description>
                <core:activityTypeId>InventoryManagement/GenerateDispatchNotePDFActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>UpdateDocumentHistoryDispatchNote</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>GenerateDispatchNotePDF</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Skipped">
                    <core:toActivity>FinishedSendStockToAddress</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity>GenerateDispatchNotePDFError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>3699</core:x>
                        <core:y>29</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.InventoryDispatchId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output required="true" name="enactor.inventoryManagement.InventoryDispatchId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                        <core:output name="enactor.coreReporting.PrintDocument">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:output>
                        <core:output required="true" name="enactor.coreReporting.ReportDataFilename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
            </core:value>
            <core:index>6</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>UpdateDocumentHistoryDispatchNote</core:activityId>
                <core:name>Update Document History Dispatch Note</core:name>
                <core:activityTypeId>InventoryManagement/UpdateDocumentHistoryActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>IfPrintDispatchNote</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity>UpdateDocumentHistoryDispatchNoteError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:parameters>
                    <core:parameter name="enactor.inventoryManagement.HeaderId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{inventoryDispatchId}</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.EntityName">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>inventoryDispatchHeader</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.EntityNamespace">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>http://www.enactor.com/retail</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.inventoryManagement.DocumentIdPrefix">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>DispatchNote</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>3894</core:x>
                        <core:y>29</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:noteReference name="Note Link">
                        <core:toActivity>Note6</core:toActivity>
                        <core:proceedImmediately>true</core:proceedImmediately>
                    </tools:noteReference>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.coreReporting.ReportDataFilename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.HeaderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.coreUI.EntityNamespace">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.coreUI.EntityName">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DocumentIdPrefix">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.coreUI.UserId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.mfc.LocationId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
            </core:value>
            <core:index>7</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>PrintPDFFile</core:activityId>
                <core:name>Print PDF File</core:name>
                <core:description>Server process to print PDF File</core:description>
                <core:activityTypeId>InventoryManagement/PrintPDFFileActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>FinishedSendStockToAddress</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity>DispatchNotePrint</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:parameters>
                    <core:parameter name="enactor.inventoryManagement.FunctionId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>PrintNewDispatchNote</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.inventoryManagement.HeaderId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{distributionOrderId}</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>4231</core:x>
                        <core:y>29</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.coreReporting.ReportDataFilename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.CreatedAtLocationId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.HeaderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.FunctionId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
            </core:value>
            <core:index>8</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>PrintDistributionOrderError</core:activityId>
                <core:name>Print Distribution Order Error</core:name>
                <core:activityTypeId>InventoryManagement/ShowMessageActivityType</core:activityTypeId>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>PrintDistributionOrderError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Retry">
                    <core:toActivity>PrintDistributionOrderPDFFile</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="OK">
                    <core:toActivity>GenerateDispatchNotePDF</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity></core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:parameters>
                    <core:parameter name="enactor.coreUI.MessageBasename">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>DISTRIBUTION_ORDER_PRINT_ERROR</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>3482</core:x>
                        <core:y>320</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input name="enactor.coreUI.MessageBasename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.coreUI.MessageId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Print Distribution Order Error (Order ID: #{distributionOrderId})</core:jobHeader>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>DISTRIBUTION_ORDER_PRINT_ERROR_TITLE</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.Run</core:value>
                    </core:parameter>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>9</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>DispatchNotePrint</core:activityId>
                <core:name>Dispatch Note Print Error</core:name>
                <core:activityTypeId>InventoryManagement/ShowMessageActivityType</core:activityTypeId>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>DispatchNotePrint</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Retry">
                    <core:toActivity>PrintPDFFile</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="OK">
                    <core:toActivity>FinishedSendStockToAddress</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity></core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:parameters>
                    <core:parameter name="enactor.coreUI.MessageBasename">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.inventoryManagement.DisallowSuspend">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>false</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.inventoryManagement.DisallowOK">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>false</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.inventoryManagement.DisallowRetry">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>false</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>DISPATCH_NOTE_PRINT_ERROR</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>4231</core:x>
                        <core:y>320</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input name="enactor.coreUI.MessageBasename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowSuspend">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowOK">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowRetry">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.coreUI.MessageId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Print Dispatch Note Error (Order ID: #{distributionOrderId})</core:jobHeader>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>DISPATCH_NOTE_PRINT_ERROR_TITLE</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.Run</core:value>
                    </core:parameter>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>10</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:IfActionActivity">
                <core:activityId>IfPrintDistributionOrder</core:activityId>
                <core:name>If Should Print Distribution Order</core:name>
                <core:activityTypeId>Generic/IfActionActivityType</core:activityTypeId>
                <core:activityOutcome name="Yes">
                    <core:toActivity>PrintDistributionOrderPDFFile</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="No">
                    <core:toActivity>GenerateDispatchNotePDF</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>3330</core:x>
                        <core:y>37</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:conditionalExpression>#{printDocument}</core:conditionalExpression>
            </core:value>
            <core:index>11</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:IfActionActivity">
                <core:activityId>IfPrintDispatchNote</core:activityId>
                <core:name>If Should Print Dispatch Note</core:name>
                <core:activityTypeId>Generic/IfActionActivityType</core:activityTypeId>
                <core:activityOutcome name="Yes">
                    <core:toActivity>PrintPDFFile</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="No">
                    <core:toActivity>FinishedSendStockToAddress</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>4102</core:x>
                        <core:y>34</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:conditionalExpression>#{printDocument}</core:conditionalExpression>
            </core:value>
            <core:index>12</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>GenerateDistributionOrderPDF</core:activityId>
                <core:name>Generate Distribution Order PDF</core:name>
                <core:description>Server process to generate dispatch note PDF, which may be printed by a separate process</core:description>
                <core:activityTypeId>InventoryManagement/GenerateDistributionOrderPDFActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>UpdateDocumentHistoryDistributionOrder</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>GenerateDistributionOrderPDF</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Skipped">
                    <core:toActivity>GenerateDispatchNotePDF</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity>GenerateDistributionOrderPDFError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>2937</core:x>
                        <core:y>29</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output required="true" name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                        <core:output name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:output>
                        <core:output name="enactor.coreReporting.PrintDocument">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:output>
                        <core:output required="true" name="enactor.coreReporting.ReportDataFilename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
            </core:value>
            <core:index>13</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>UpdateDocumentHistoryDistributionOrder</core:activityId>
                <core:name>Update Document History Distribution Order</core:name>
                <core:activityTypeId>InventoryManagement/UpdateDocumentHistoryActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>IfPrintDistributionOrder</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity>UpdateDocumentHistoryDistributionOrderError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:parameters>
                    <core:parameter name="enactor.inventoryManagement.HeaderId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{distributionOrderId}</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.EntityName">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>distributionOrderHeader</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.EntityNamespace">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>http://www.enactor.com/retail</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.inventoryManagement.DocumentIdPrefix">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>DistributionOrder</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>3132</core:x>
                        <core:y>29</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:noteReference name="Note Link">
                        <core:toActivity>Note6</core:toActivity>
                        <core:proceedImmediately>true</core:proceedImmediately>
                    </tools:noteReference>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.coreReporting.ReportDataFilename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.HeaderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.coreUI.EntityNamespace">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.coreUI.EntityName">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DocumentIdPrefix">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.coreUI.UserId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.mfc.LocationId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
            </core:value>
            <core:index>14</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>PrintDistributionOrderPDFFile</core:activityId>
                <core:name>Print DO PDF File</core:name>
                <core:description>Server process to print PDF File</core:description>
                <core:activityTypeId>InventoryManagement/PrintPDFFileActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>GenerateDispatchNotePDF</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity>PrintDistributionOrderError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:parameters>
                    <core:parameter name="enactor.inventoryManagement.FunctionId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>PrintNewDistributionOrder</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.inventoryManagement.HeaderId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{distributionOrderId}</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>3482</core:x>
                        <core:y>29</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.coreReporting.ReportDataFilename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.CreatedAtLocationId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.HeaderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.FunctionId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
            </core:value>
            <core:index>15</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>GenerateDistributionOrderPDFError</core:activityId>
                <core:name>Generate Distribution Order PDF Error</core:name>
                <core:activityTypeId>InventoryManagement/ShowMessageActivityType</core:activityTypeId>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>GenerateDistributionOrderPDFError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Retry">
                    <core:toActivity>GenerateDistributionOrderPDF</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="OK">
                    <core:toActivity>GenerateDispatchNotePDF</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity></core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:parameters>
                    <core:parameter name="enactor.inventoryManagement.DisallowOK">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>false</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageBasename">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>GENERATE_DISTRIBUTION_ORDER_PDF_ERROR</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>2937</core:x>
                        <core:y>320</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input name="enactor.coreUI.MessageBasename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowOK">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.coreUI.MessageId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Generate Distribution Order PDF Error (Order ID: #{distributionOrderId})</core:jobHeader>
                <core:displayDescriptionMessageBase>#{errorDetails.messageBase}</core:displayDescriptionMessageBase>
                <core:displayDescriptionMessageId>#{errorDetails.messageId}</core:displayDescriptionMessageId>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>GENERATE_DISTRIBUTION_ORDER_PDF_ERROR_TITLE</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.Run</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>16</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>UpdateDocumentHistoryDistributionOrderError</core:activityId>
                <core:name>Update Document History Distribution Order Error</core:name>
                <core:activityTypeId>InventoryManagement/ShowMessageActivityType</core:activityTypeId>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>UpdateDocumentHistoryDistributionOrderError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Retry">
                    <core:toActivity>UpdateDocumentHistoryDistributionOrder</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="OK">
                    <core:toActivity>GenerateDispatchNotePDF</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity></core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:parameters>
                    <core:parameter name="enactor.inventoryManagement.DisallowOK">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>false</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageBasename">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>UPDATE_DOCUMENT_HISTORY_DISTRIBUTION_ORDER_ERROR</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>3132</core:x>
                        <core:y>320</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input name="enactor.coreUI.MessageBasename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowOK">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.coreUI.MessageId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Update Document History Distribution Order Error (Order ID: #{distributionOrderId})</core:jobHeader>
                <core:displayDescriptionMessageBase>#{errorDetails.messageBase}</core:displayDescriptionMessageBase>
                <core:displayDescriptionMessageId>#{errorDetails.messageId}</core:displayDescriptionMessageId>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>UPDATE_DOCUMENT_HISTORY_DISTRIBUTION_ORDER_ERROR_TITLE</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.Run</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>17</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>GenerateDispatchNotePDFError</core:activityId>
                <core:name>Generate Dispatch Note PDF Error</core:name>
                <core:activityTypeId>InventoryManagement/ShowMessageActivityType</core:activityTypeId>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>GenerateDispatchNotePDFError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Retry">
                    <core:toActivity>GenerateDispatchNotePDF</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="OK">
                    <core:toActivity>FinishedSendStockToAddress</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity></core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:parameters>
                    <core:parameter name="enactor.inventoryManagement.DisallowOK">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>false</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageBasename">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>GENERATE_DISPATCH_NOTE_PDF_ERROR</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>3699</core:x>
                        <core:y>320</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input name="enactor.coreUI.MessageBasename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowOK">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.coreUI.MessageId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Generate Dispatch Note PDF Error (Order ID: #{distributionOrderId})</core:jobHeader>
                <core:displayDescriptionMessageBase>#{errorDetails.messageBase}</core:displayDescriptionMessageBase>
                <core:displayDescriptionMessageId>#{errorDetails.messageId}</core:displayDescriptionMessageId>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>GENERATE_DISPATCH_NOTE_PDF_ERROR_TITLE</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.Run</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>18</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>UpdateDocumentHistoryDispatchNoteError</core:activityId>
                <core:name>Update Document History Dispatch Note Error</core:name>
                <core:activityTypeId>InventoryManagement/ShowMessageActivityType</core:activityTypeId>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>UpdateDocumentHistoryDispatchNoteError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Retry">
                    <core:toActivity>UpdateDocumentHistoryDispatchNote</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="OK">
                    <core:toActivity>FinishedSendStockToAddress</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity></core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:parameters>
                    <core:parameter name="enactor.inventoryManagement.DisallowOK">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>false</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageBasename">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>UPDATE_DOCUMENT_HISTORY_DISPATCH_NOTE_ERROR</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>3894</core:x>
                        <core:y>320</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input name="enactor.coreUI.MessageBasename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowOK">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.coreUI.MessageId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Update Document History Dispatch Note Error (Order ID: #{distributionOrderId})</core:jobHeader>
                <core:displayDescriptionMessageBase>#{errorDetails.messageBase}</core:displayDescriptionMessageBase>
                <core:displayDescriptionMessageId>#{errorDetails.messageId}</core:displayDescriptionMessageId>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>UPDATE_DOCUMENT_HISTORY_DISPATCH_NOTE_ERROR_TITLE</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.Run</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>19</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:IfActionActivity">
                <core:activityId>IfSending</core:activityId>
                <core:name>If Sending</core:name>
                <core:activityTypeId>Generic/IfActionActivityType</core:activityTypeId>
                <core:activityOutcome name="Yes">
                    <core:toActivity></core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="No">
                    <core:toActivity>IsRequestApprovalRequired</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1634</core:x>
                        <core:y>406</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:conditionalExpression>#{sendingOrRequesting == 'SENDING'}</core:conditionalExpression>
            </core:value>
            <core:index>20</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>SubmitDispatch</core:activityId>
                <core:name>Submit Dispatch</core:name>
                <core:description></core:description>
                <core:activityTypeId>InventoryManagement/SubmitDispatchActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>GenerateDistributionOrderPDF</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity>SubmitDispatchError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>2736</core:x>
                        <core:y>29</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.InventoryDispatchId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.mfc.LocationKey">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.UnknownOrderProducts">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.AllowInvalidItems">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
            </core:value>
            <core:index>21</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>SubmitDispatchError</core:activityId>
                <core:name>Submit Dispatch Error</core:name>
                <core:activityTypeId>InventoryManagement/ShowMessageActivityType</core:activityTypeId>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>SubmitDispatchError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="OK">
                    <core:toActivity>IfSending</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Retry">
                    <core:toActivity>SubmitDispatch</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity></core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:parameters>
                    <core:parameter name="enactor.inventoryManagement.DisallowOK">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>false</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageBasename">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:value>
                    </core:parameter>
                    <core:parameter name="enactor.coreUI.MessageId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>SUBMIT_DISPATCH_ERROR</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>2736</core:x>
                        <core:y>320</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input name="enactor.coreUI.MessageBasename">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowOK">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.coreUI.MessageId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Submit Dispatch Error (Order ID: #{distributionOrderId})</core:jobHeader>
                <core:displayDescriptionMessageBase>#{errorDetails.messageBase}</core:displayDescriptionMessageBase>
                <core:displayDescriptionMessageId>#{errorDetails.messageId}</core:displayDescriptionMessageId>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>SUBMIT_DISPATCH_ERROR_TITLE</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.Run</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>22</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:IfActionActivity">
                <core:activityId>IsDispatchCreated</core:activityId>
                <core:name>Is Dispatch Created</core:name>
                <core:activityTypeId>Generic/IfActionActivityType</core:activityTypeId>
                <core:activityOutcome name="Yes">
                    <core:toActivity>CheckDispatchEffectOnStock</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="No">
                    <core:toActivity>CreateDispatch</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>2082</core:x>
                        <core:y>360</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:conditionalExpression>#{dispatchCreated == true}</core:conditionalExpression>
            </core:value>
            <core:index>23</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>ReviewDispatch</core:activityId>
                <core:name>Review Dispatch</core:name>
                <core:description>UI to retrieve inventory dispatch details and allow the quantities to be modified</core:description>
                <core:activityTypeId>InventoryManagement/ModifyDispatchActivityType</core:activityTypeId>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>ReviewDispatch</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="Submit">
                    <core:toActivity>SubmitDispatch</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>2524</core:x>
                        <core:y>347</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.InventoryDispatchId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs/>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Review Dispatch (Order ID: #{distributionOrderId})</core:jobHeader>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>MODIFY_DISPATCH</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.AllowDispatchWhenInsufficientStock</core:value>
                    </core:parameter>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>24</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>CheckDispatchEffectOnStock</core:activityId>
                <core:name>Check Dispatch Effect On Stock</core:name>
                <core:activityTypeId>InventoryManagement/CheckDispatchEffectOnStockActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>SubmitDispatch</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Fail">
                    <core:toActivity>CheckAllowDispatchPrivilege</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>2343</core:x>
                        <core:y>139</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.InventoryDispatchId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:output>
                        <core:output name="enactor.coreUI.UserId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
            </core:value>
            <core:index>25</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:ActionActivity">
                <core:activityId>CheckAllowDispatchPrivilege</core:activityId>
                <core:name>Check Allow Dispatch When Insufficient Stock</core:name>
                <core:activityTypeId>MFC/CheckPrivilegeActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>SubmitDispatch</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Fail">
                    <core:toActivity>ReviewDispatch</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:parameters>
                    <core:parameter name="enactor.mfc.PrivilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.AllowDispatchWhenInsufficientStock</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>2524</core:x>
                        <core:y>148</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.coreUI.UserId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.mfc.PrivilegeId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
            </core:value>
            <core:index>26</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>DistributionOrderItemsPicking</core:activityId>
                <core:name>Order Items Picking</core:name>
                <core:description>Back Office user confirms that stock is available to send order</core:description>
                <core:activityTypeId>InventoryManagement/DistributionOrderPickingActivityType</core:activityTypeId>
                <core:activityOutcome name="ModifyQuantities">
                    <core:toActivity>ModifyDistributionOrder</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="DispatchRequestedQty">
                    <core:toActivity>IsDispatchCreated</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>DistributionOrderItemsPicking</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="AdjustStock">
                    <core:toActivity>StockAdjustmentForLimitedDistributionRequest</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Rejected">
                    <core:toActivity>RejectPickDistributionOrder</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:suspendActivityOutcome name="Pending">
                    <core:toActivity>DistributionOrderItemsPicking</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1715</core:x>
                        <core:y>23</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DestinationLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.SourceLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Pick (#{notEmpty(externalReferenceId) ? 'Ref: ' : 'DO: '} #{notEmpty(externalReferenceId) ? externalReferenceId : distributionOrderId} from #{sourceLocation.locationId})</core:jobHeader>
                <core:jobDescription>Unnamed job description.</core:jobDescription>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>ORDER_ITEMS_PICKING</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.OrderItemsPicking</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>27</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>ModifyDistributionOrder</core:activityId>
                <core:name>Modify Distribution Order Header</core:name>
                <core:description>Allows the picker to change the quantity of distribution order items</core:description>
                <core:activityTypeId>InventoryManagement/ModifyDistributionOrderActivityType</core:activityTypeId>
                <core:activityOutcome name="Dispatch">
                    <core:toActivity>CreateDispatch</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Back">
                    <core:toActivity>DistributionOrderItemsPicking</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:suspendActivityOutcome name="Suspended">
                    <core:toActivity>ModifyDistributionOrder</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:suspendActivityOutcome>
                <core:activityOutcome name="AdjustStock">
                    <core:toActivity>StockAdjustmentForLimitedDistributionRequest</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Rejected">
                    <core:toActivity>RejectPickDistributionOrder</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1732</core:x>
                        <core:y>313</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.SourceLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DestinationLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionRequestId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Modify Distribution Order (#{notEmpty(externalReferenceId) ? 'Ref: ' : 'DO: '} #{notEmpty(externalReferenceId) ? externalReferenceId : distributionOrderId} from #{sourceLocation.locationId} to #{destinationLocation.locationId})</core:jobHeader>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>MODIFY_DISTRIBUTION_ORDER</core:displayTitleMessageId>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{sourceLocation.locationId}</core:value>
                    </core:parameter>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.OrderItemsPicking</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>28</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>StockAdjustmentForLimitedDistributionRequest</core:activityId>
                <core:name>Stock Adjustment For Limited Distribution Request</core:name>
                <core:description>Server process which adjusts the stock levels based up distribution order items transfer qty</core:description>
                <core:activityTypeId>InventoryManagement/StockAdjustmentForLimitedDistributionActivityType</core:activityTypeId>
                <core:activityOutcome name="Error">
                    <core:toActivity>ShowDistributionRequestApprovalError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Success">
                    <core:toActivity>CreateDispatch</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1918</core:x>
                        <core:y>97</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
            </core:value>
            <core:index>29</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>ConfirmDistributionRequestForApproval</core:activityId>
                <core:name>Confirm Distribution Request</core:name>
                <core:activityTypeId>InventoryManagement/ConfirmDistributionRequestActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>IsRequestApprovalRequired</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:catchAllOutcome xsi:type="core:ActivityOutcome" name="Error">
                    <core:toActivity>ConfirmDistributionRequestError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:catchAllOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>766</core:x>
                        <core:y>19</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionRequestId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.mfc.UserKey">
                            <core:interfaceName>com.enactor.mfc.user.IUserKey</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:output>
                        <core:output name="enactor.inventoryManagement.TransferType">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
            </core:value>
            <core:index>30</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>ConfirmDistributionRequestError</core:activityId>
                <core:name>Confirm Distribution Request Error</core:name>
                <core:activityTypeId>InventoryManagement/ShowMessageActivityType</core:activityTypeId>
                <core:activityOutcome name="OK">
                    <core:toActivity>ConfirmDistributionRequestForApproval</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:parameters>
                    <core:parameter name="enactor.coreProcessing.scheduledJob.ExecuteProcessId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>Task/InitiateBusinessProcess</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1158</core:x>
                        <core:y>483</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Show Distribution Error (#{notEmpty(externalReferenceId) ? 'Ref: ' : 'DR: '} #{notEmpty(externalReferenceId) ? externalReferenceId : distributionRequestId})</core:jobHeader>
                <core:displayDescriptionMessageBase>#{errorDetails.messageBase}</core:displayDescriptionMessageBase>
                <core:displayDescriptionMessageId>#{errorDetails.messageId}</core:displayDescriptionMessageId>
                <core:displayTitleMessageBase>#{errorDetails.messageBase}</core:displayTitleMessageBase>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/task}SimpleUserEvaluator</core:peopleGroupEvaluator>
            </core:value>
            <core:index>31</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>RejectPickDistributionOrder</core:activityId>
                <core:name>Reject Pick Distribution Order</core:name>
                <core:activityTypeId>InventoryManagement/RejectPickDistributionOrderActivityType</core:activityTypeId>
                <core:activityOutcome name="Error">
                    <core:toActivity>RejectPickDistributionOrderError</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Success">
                    <core:toActivity>CheckSkipAknowledgeDistributionOrderRejectedNotificationPrivilege</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1573</core:x>
                        <core:y>623</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:noteReference name="Note Link">
                        <core:toActivity>Note10</core:toActivity>
                        <core:proceedImmediately>true</core:proceedImmediately>
                    </tools:noteReference>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionRequestId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionOrderId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DestinationLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.SourceLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                    </core:inputs>
                    <core:outputs>
                        <core:output name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:output>
                    </core:outputs>
                </core:metaData>
            </core:value>
            <core:index>32</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>RejectPickDistributionOrderError</core:activityId>
                <core:name>Reject Pick Distribution Order Error</core:name>
                <core:activityTypeId>InventoryManagement/ShowMessageActivityType</core:activityTypeId>
                <core:activityOutcome name="OK">
                    <core:toActivity>RejectPickDistributionOrder</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:parameters>
                    <core:parameter name="enactor.coreProcessing.scheduledJob.ExecuteProcessId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>Task/InitiateBusinessProcess</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1800</core:x>
                        <core:y>694</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input name="enactor.core.ErrorDetails">
                            <core:interfaceName>com.enactor.core.application.process.IErrorDetails</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Customer Home Delivery</core:jobType>
                <core:jobHeader>Reject Pick Distribution Order Error (Order ID=#{distributionOrderId})</core:jobHeader>
                <core:displayDescriptionMessageBase>#{errorDetails.messageBase}</core:displayDescriptionMessageBase>
                <core:displayDescriptionMessageId>#{errorDetails.messageId}</core:displayDescriptionMessageId>
                <core:displayTitleMessageBase>#{errorDetails.messageBase}</core:displayTitleMessageBase>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/task}SimpleUserEvaluator</core:peopleGroupEvaluator>
            </core:value>
            <core:index>33</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:CallProcessActivity">
                <core:activityId>IsRequestApprovalRequired</core:activityId>
                <core:name>Is Request Approval Required</core:name>
                <core:description></core:description>
                <core:activityTypeId>InventoryManagement/IsRequestApprovalRequiredActivityType</core:activityTypeId>
                <core:activityOutcome name="Yes">
                    <core:toActivity>DistributionRequestApproval</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="No">
                    <core:toActivity>CreateDistributionOrder</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>996</core:x>
                        <core:y>6</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionRequestId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.SourceLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DestinationLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
            </core:value>
            <core:index>34</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:EndProcessActivity">
                <core:activityId>FinishedSendStockToAddress</core:activityId>
                <core:name>Finished Send Stock To Address</core:name>
                <core:activityTypeId>Generic/EndProcessActivityType</core:activityTypeId>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>4493</core:x>
                        <core:y>50</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>1</tools:style>
                </core:uiSettings>
                <core:discard>false</core:discard>
            </core:value>
            <core:index>35</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:HTActivity">
                <core:activityId>DistributionRequestRejected</core:activityId>
                <core:name>Distribution Request Rejected</core:name>
                <core:description>Task UI to acknowledge request has been rejected</core:description>
                <core:activityTypeId>InventoryManagement/DistributionRequestRejectedActivityType</core:activityTypeId>
                <core:activityOutcome name="Forward">
                    <core:toActivity>Request Rejected</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:parameters>
                    <core:parameter required="true" name="enactor.inventoryManagement.DisallowBack">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>true</core:value>
                    </core:parameter>
                    <core:parameter required="true" name="enactor.inventoryManagement.DisallowCancel">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>true</core:value>
                    </core:parameter>
                    <core:parameter required="true" name="enactor.inventoryManagement.DisallowSuspend">
                        <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        <core:value>true</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1156</core:x>
                        <core:y>890</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.inventoryManagement.DistributionRequestId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowBack">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowCancel">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input name="enactor.inventoryManagement.DisallowSuspend">
                            <core:interfaceName>java.lang.Boolean</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.DestinationLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.inventoryManagement.SourceLocation">
                            <core:interfaceName>com.enactor.mfc.location.ILocationKey</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
                <core:jobType>Stock Transfer</core:jobType>
                <core:jobHeader>Distribution Request Rejected (Request ID: #{distributionRequestId})</core:jobHeader>
                <core:displayTitleMessageBase>InventoryManagement/StockTransfer/RequestStockFromLocationMessages</core:displayTitleMessageBase>
                <core:displayTitleMessageId>DISTRIBUTION_REQUEST_REJECTED</core:displayTitleMessageId>
                <core:priority>5</core:priority>
                <core:peopleGroupEvaluator>{http://www.enactor.com/mfc}LocationPrivilegeEvaluator</core:peopleGroupEvaluator>
                <core:peopleGroupParameters>
                    <core:parameter name="privilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.RequestStock.Run</core:value>
                    </core:parameter>
                    <core:parameter name="locationId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>#{destinationLocation.locationId}</core:value>
                    </core:parameter>
                </core:peopleGroupParameters>
            </core:value>
            <core:index>36</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:EndProcessActivity">
                <core:activityId>Request Rejected</core:activityId>
                <core:name>Request Rejected</core:name>
                <core:activityTypeId>Generic/EndProcessActivityType</core:activityTypeId>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1576</core:x>
                        <core:y>914</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>1</tools:style>
                </core:uiSettings>
                <core:discard>false</core:discard>
            </core:value>
            <core:index>37</core:index>
        </core:listElement>
        <core:listElement>
            <core:value xsi:type="core:ActionActivity">
                <core:activityId>CheckSkipAknowledgeDistributionOrderRejectedNotificationPrivilege</core:activityId>
                <core:name>Check Skip Aknowledge Distribution Order Rejected Notification Privilege</core:name>
                <core:activityTypeId>MFC/CheckPrivilegeActivityType</core:activityTypeId>
                <core:activityOutcome name="Success">
                    <core:toActivity>Request Rejected</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:activityOutcome name="Fail">
                    <core:toActivity>DistributionRequestRejected</core:toActivity>
                    <core:proceedImmediately>true</core:proceedImmediately>
                </core:activityOutcome>
                <core:parameters>
                    <core:parameter name="enactor.mfc.PrivilegeId">
                        <core:interfaceName>java.lang.String</core:interfaceName>
                        <core:value>enactor.inventoryManagement.SkipDistributionRequestRejectedAcknowledgement</core:value>
                    </core:parameter>
                </core:parameters>
                <core:uiSettings xsi:type="tools:ActivitySettings">
                    <core:constraint xsi:type="core:UIPositionConstraint">
                        <core:x>1158</core:x>
                        <core:y>675</core:y>
                    </core:constraint>
                    <tools:swimLaneId>Lane 2</tools:swimLaneId>
                    <tools:style>7</tools:style>
                </core:uiSettings>
                <core:metaData>
                    <core:inputs>
                        <core:input required="true" name="enactor.coreUI.UserId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                        <core:input required="true" name="enactor.mfc.PrivilegeId">
                            <core:interfaceName>java.lang.String</core:interfaceName>
                        </core:input>
                    </core:inputs>
                </core:metaData>
            </core:value>
            <core:index>38</core:index>
        </core:listElement>
        <core:listImplClass>java.util.LinkedList</core:listImplClass>
    </core:activities>
    <core:defaultStartActivityId>ConfirmDistributionRequestForApproval</core:defaultStartActivityId>
    <core:defaultOutcomes/>
</core:simpleActivityFlowBusinessProcess>
